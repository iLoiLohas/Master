<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FileUtil: FileUtil.cpp Source File</title>
<script type="text/javaScript" src="search/search.js"></script>
<link href="../css/main.css" rel="stylesheet" type="text/css"/>
</head>
<body id="type-b">

<div id="wrap">
<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
<div id="poweredby">
<img style="width: 95%;" src="../images/SharkLogo.png"/>
</div>		
  
<ul id="nav">
  <li class="first"><a href="../index.html">About Shark</a></li>
  <li><a href="#">Sourceforge</a>
  
  <ul>
    <li class="first"><a href="http://shark-project.sourceforge.net">Project Summary</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/files/">Downloads</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/develop">Subversion Repository</a></li>
  </ul>
  
</li>
<li class="first"><a href="../GettingStarted.html">Getting Started</a>
<li class="first"><a href="../Tutorials.html">Tutorials</a>
<li class="first"><a href="../FAQ.html">FAQ</a>

<li class="first"><a href="#">Main Modules</a>
<ul>
  <li class="first"><a href="../ReClaM/index.html">ReClaM</a>
  <li class="first"><a href="../EALib/index.html">EALib</a>
  <li class="first"><a href="../MOO-EALib/index.html">MOO-EALib</a>
  <li class="first"><a href="../Fuzzy/index.html">Fuzzy</a>
</ul>
</li>
<li class="first"><a href="#">Tools</a>
<ul>
  <li class="first"><a href="../Mixture/index.html">Mixture</a>
  <li><a href="../Array/index.html">Array</a>
  <li><a href="../Rng/index.html">Rng</a>
  <li><a href="../LinAlg/index.html">LinAlg</a>
  <li class="last"><a href="../FileUtil/index.html">FileUtil</a>		    
</ul>
</li>
</ul>
</div>

<!--<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
  <ul id="nav">
    <li><a href="../index.html"><span>Shark&nbsp;Main&nbsp;Page</span></a></li>
    <li><a href="../Array/index.html"><span>Array</span></a></li>
    <li><a href="../Rng/index.html"><span>Rng</span></a></li>
    <li><a href="../LinAlg/index.html"><span>LinAlg</span></a></li>
    <li><a href="../FileUtil/index.html"><span>FileUtil</span></a></li>
    <li><a href="../EALib/index.html"><span>EALib</span></a></li>
    <li><a href="../MOO-EALib/index.html"><span>MOO-EALib</span></a></li>
    <li class="active"><a href="../ReClaM/index.html"><span>ReClaM</span></a></li>
    <li><a href="../Fuzzy/index.html"><span>Fuzzy</span></a></li>
    <li><a href="../Mixture/index.html"><span>Mixture</span></a></li>
    <li><a href="../tutorials/index.html"><span>Tutorials</span></a></li>
    <li><a href="../faq/index.html"><span>FAQ</span></a></li>
  </ul>
 </div> -->
<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>FileUtil.cpp</h1>  </div>
</div>
<div class="contents">
<a href="_file_util_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//===========================================================================</span>
<a name="l00051"></a>00051 <span class="comment"></span><span class="comment">//===========================================================================</span>
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;SharkDefs.h&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;FileUtil/FileUtil.h&gt;</span>
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="keyword">using namespace </span>std;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">//===========================================================================</span>
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="namespace_file_util.html">00063</a> <span class="keyword">namespace </span>FileUtil
<a name="l00064"></a>00064 {
<a name="l00065"></a>00065 
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="comment">//===========================================================================</span>
<a name="l00099"></a><a class="code" href="namespace_file_util.html#aab9be1d7a4f1eecda7afa88b1ca3ad7e">00099</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#aab9be1d7a4f1eecda7afa88b1ca3ad7e" title="Checks, whether the given character &amp;quot;ch&amp;quot; introduces a newline or tabulator.">special_character</a>(std::istream&amp; is, <span class="keywordtype">char</span> *ch)
<a name="l00100"></a>00100 {
<a name="l00101"></a>00101     <span class="keywordflow">if</span> (*ch == <span class="charliteral">&#39;\\&#39;</span>)
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <span class="keywordflow">if</span> (!is.eof()) is.get(*ch); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00104"></a>00104         <span class="keywordflow">switch</span> (*ch)
<a name="l00105"></a>00105         {
<a name="l00106"></a>00106         <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span> : *ch = <span class="charliteral">&#39;\t&#39;</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l00107"></a>00107         <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span> : *ch = <span class="charliteral">&#39;\n&#39;</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">break</span>;
<a name="l00108"></a>00108         <span class="keywordflow">default</span>:   <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00109"></a>00109         }
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">//===========================================================================</span>
<a name="l00144"></a><a class="code" href="namespace_file_util.html#ac9009f9b742db4033d15e058be1e8e21">00144</a> <span class="comment"></span><span class="keywordtype">bool</span> <a class="code" href="namespace_file_util.html#ac9009f9b742db4033d15e058be1e8e21" title="Skips one line while reading from the input stream &amp;quot;is&amp;quot;.">skipLine</a>(std::istream&amp; is, <span class="keywordtype">char</span> *ch)
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146     <span class="keywordflow">do</span>
<a name="l00147"></a>00147     {
<a name="l00148"></a>00148         <span class="keywordflow">if</span> (!is.eof()) is.get(*ch); <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00149"></a>00149         <a class="code" href="namespace_file_util.html#aab9be1d7a4f1eecda7afa88b1ca3ad7e" title="Checks, whether the given character &amp;quot;ch&amp;quot; introduces a newline or tabulator.">special_character</a>(is, ch);
<a name="l00150"></a>00150     }
<a name="l00151"></a>00151     <span class="keywordflow">while</span> (!is.eof() &amp;&amp; *ch != <span class="charliteral">&#39;\n&#39;</span>);
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="keywordflow">if</span> (!is.eof()) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00154"></a>00154     <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00155"></a>00155 }
<a name="l00156"></a>00156 
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 <span class="comment">//===========================================================================</span>
<a name="l00179"></a><a class="code" href="namespace_file_util.html#ae14167c7a67527cff8cbee84f5dc48d0">00179</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ae14167c7a67527cff8cbee84f5dc48d0" title="Returns the number of characters in input stream &amp;quot;is&amp;quot;.">filesize</a>(std::istream&amp; is)
<a name="l00180"></a>00180 {
<a name="l00181"></a>00181 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>    <span class="keywordtype">size_t</span> pos, end;
<a name="l00183"></a>00183 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00185"></a>00185 <span class="preprocessor">#else</span>
<a name="l00186"></a>00186 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00187"></a>00187 <span class="preprocessor">#endif</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>    pos = is.tellg();
<a name="l00189"></a>00189     is.seekg(0, ios::end);
<a name="l00190"></a>00190     end = is.tellg();
<a name="l00191"></a>00191     is.seekg(pos, ios::beg);
<a name="l00192"></a>00192     <span class="keywordflow">return</span> end;
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 <span class="comment">//===========================================================================</span>
<a name="l00217"></a><a class="code" href="namespace_file_util.html#a09210589f380caae4be0a74f56841223">00217</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ae14167c7a67527cff8cbee84f5dc48d0" title="Returns the number of characters in input stream &amp;quot;is&amp;quot;.">filesize</a>(std::ostream&amp; os)
<a name="l00218"></a>00218 {
<a name="l00219"></a>00219 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00220"></a>00220 <span class="preprocessor"></span>    <span class="keywordtype">size_t</span> pos, end;
<a name="l00221"></a>00221 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00222"></a>00222 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00223"></a>00223 <span class="preprocessor">#else</span>
<a name="l00224"></a>00224 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00225"></a>00225 <span class="preprocessor">#endif</span>
<a name="l00226"></a>00226 <span class="preprocessor"></span>    pos = os.tellp();
<a name="l00227"></a>00227     os.seekp(0, ios::end);
<a name="l00228"></a>00228     end = os.tellp();
<a name="l00229"></a>00229     os.seekp(pos, ios::beg);
<a name="l00230"></a>00230     <span class="keywordflow">return</span> end;
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 
<a name="l00234"></a>00234 <span class="comment">//===========================================================================</span>
<a name="l00252"></a><a class="code" href="namespace_file_util.html#a89c9915e4f27791d7b89f69e1ada5dbb">00252</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#ae14167c7a67527cff8cbee84f5dc48d0" title="Returns the number of characters in input stream &amp;quot;is&amp;quot;.">filesize</a>(<span class="keyword">const</span> std::string&amp; name)
<a name="l00253"></a>00253 {
<a name="l00254"></a>00254     std::ifstream is(name.c_str());
<a name="l00255"></a>00255 
<a name="l00256"></a>00256     <span class="keywordflow">if</span> (is)
<a name="l00257"></a>00257         <span class="keywordflow">return</span> <a class="code" href="namespace_file_util.html#ae14167c7a67527cff8cbee84f5dc48d0" title="Returns the number of characters in input stream &amp;quot;is&amp;quot;.">filesize</a>(is);
<a name="l00258"></a>00258     <span class="keywordflow">else</span>
<a name="l00259"></a>00259         <span class="keywordflow">return</span> 0;
<a name="l00260"></a>00260 }
<a name="l00261"></a>00261 
<a name="l00262"></a>00262 
<a name="l00263"></a>00263 <span class="comment">//===========================================================================</span>
<a name="l00285"></a><a class="code" href="namespace_file_util.html#aca522e677d94872f1e29c0654625b57d">00285</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#aca522e677d94872f1e29c0654625b57d" title="The whole content of input stream &amp;quot;is&amp;quot; is stored in &amp;quot;buf&amp;quot;.">readfile</a>(std::istream&amp; is, std::string&amp; buf)
<a name="l00286"></a>00286 {
<a name="l00287"></a>00287 <span class="preprocessor">#ifdef __GNUC__</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span>    <span class="keywordtype">size_t</span> pos, end;
<a name="l00289"></a>00289 <span class="preprocessor">#elif defined( __CRAY_T3E__ )</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>    streampos pos, end;
<a name="l00291"></a>00291 <span class="preprocessor">#else</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span>    std::istream::pos_type pos, end;
<a name="l00293"></a>00293 <span class="preprocessor">#endif</span>
<a name="l00294"></a>00294 <span class="preprocessor"></span>    pos = is.tellg();
<a name="l00295"></a>00295     is.seekg(0, ios::end);
<a name="l00296"></a>00296     end = is.tellg();
<a name="l00297"></a>00297     <span class="keywordtype">char</span> *b = <span class="keyword">new</span> <span class="keywordtype">char</span>[ <span class="keyword">static_cast&lt;</span> <span class="keywordtype">unsigned</span> <span class="keyword">&gt;</span>(end) + 1 ];
<a name="l00298"></a>00298     is.seekg(0, ios::beg);
<a name="l00299"></a>00299     is.read(b, end);
<a name="l00300"></a>00300     b[ end ] = <span class="charliteral">&#39;\0&#39;</span>;
<a name="l00301"></a>00301     buf = b;
<a name="l00302"></a>00302     <span class="keyword">delete</span>[ ] b;
<a name="l00303"></a>00303     is.seekg(pos, ios::beg);
<a name="l00304"></a>00304     <span class="keywordflow">return</span> end;
<a name="l00305"></a>00305 }
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="comment">//===========================================================================</span>
<a name="l00332"></a><a class="code" href="namespace_file_util.html#a8c2f94b6ff7b02382ef534c5f27bcba8">00332</a> <span class="comment"></span><span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="namespace_file_util.html#aca522e677d94872f1e29c0654625b57d" title="The whole content of input stream &amp;quot;is&amp;quot; is stored in &amp;quot;buf&amp;quot;.">readfile</a>(<span class="keyword">const</span> std::string&amp; name, std::string&amp; buf)
<a name="l00333"></a>00333 {
<a name="l00334"></a>00334     std::ifstream is(name.c_str());
<a name="l00335"></a>00335 
<a name="l00336"></a>00336     <span class="keywordflow">if</span> (is)
<a name="l00337"></a>00337         <span class="keywordflow">return</span> <a class="code" href="namespace_file_util.html#aca522e677d94872f1e29c0654625b57d" title="The whole content of input stream &amp;quot;is&amp;quot; is stored in &amp;quot;buf&amp;quot;.">readfile</a>(is, buf);
<a name="l00338"></a>00338     <span class="keywordflow">else</span>
<a name="l00339"></a>00339     {
<a name="l00340"></a>00340         buf = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00341"></a>00341         <span class="keywordflow">return</span> 0;
<a name="l00342"></a>00342     }
<a name="l00343"></a>00343 }
<a name="l00344"></a>00344 
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 <span class="comment">//===========================================================================</span>
<a name="l00371"></a><a class="code" href="namespace_file_util.html#a077dd4a8a1ec9ea5869fe8ff6f5d28cb">00371</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="namespace_file_util.html#a077dd4a8a1ec9ea5869fe8ff6f5d28cb" title="Reads from input stream &amp;quot;is&amp;quot; until &amp;quot;token&amp;quot; is found.">skipuntil</a>(std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token)
<a name="l00372"></a>00372 {
<a name="l00373"></a>00373     <span class="keywordflow">if</span> (token.length() == 0)
<a name="l00374"></a>00374         <span class="keywordflow">return</span>;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376     <span class="keywordtype">char</span>   c;
<a name="l00377"></a>00377     std::string cmp;
<a name="l00378"></a>00378 
<a name="l00379"></a>00379     <span class="comment">//</span>
<a name="l00380"></a>00380     <span class="comment">// read first chunk of characters</span>
<a name="l00381"></a>00381     <span class="comment">//</span>
<a name="l00382"></a>00382     <span class="keywordflow">while</span> (cmp.length() &lt; token.length() &amp;&amp; is &amp;&amp; ! is.eof())
<a name="l00383"></a>00383     {
<a name="l00384"></a>00384         is.get(c);
<a name="l00385"></a>00385         cmp += c;
<a name="l00386"></a>00386     }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="comment">//</span>
<a name="l00389"></a>00389     <span class="comment">// loop until token found</span>
<a name="l00390"></a>00390     <span class="comment">//</span>
<a name="l00391"></a>00391     <span class="keywordflow">while</span> (!(cmp == token) &amp;&amp; is &amp;&amp; ! is.eof())
<a name="l00392"></a>00392     {
<a name="l00393"></a>00393         is.get(c);
<a name="l00394"></a>00394         cmp.erase(0, 1);
<a name="l00395"></a>00395         cmp += c;
<a name="l00396"></a>00396     }
<a name="l00397"></a>00397 }
<a name="l00398"></a>00398 
<a name="l00399"></a>00399 
<a name="l00400"></a>00400 <span class="comment">//===========================================================================</span>
<a name="l00432"></a><a class="code" href="namespace_file_util.html#a2f1666853e256e5449a294f418ff73e7">00432</a> <span class="comment"></span><span class="keywordtype">char</span> <a class="code" href="namespace_file_util.html#a2f1666853e256e5449a294f418ff73e7" title="Reads the first token from input stream &amp;quot;is&amp;quot;.">gettoken</a>(std::istream&amp; is, std::string&amp; token, <span class="keyword">const</span> std::string&amp; delim)
<a name="l00433"></a>00433 {
<a name="l00434"></a>00434     <span class="keywordtype">char</span>   c;
<a name="l00435"></a>00435 
<a name="l00436"></a>00436     <span class="comment">//</span>
<a name="l00437"></a>00437     <span class="comment">// skip leading delimiters</span>
<a name="l00438"></a>00438     <span class="comment">//</span>
<a name="l00439"></a>00439     <span class="keywordflow">while</span> (is &amp;&amp; ! is.eof())
<a name="l00440"></a>00440     {
<a name="l00441"></a>00441         is.get(c);
<a name="l00442"></a>00442         <span class="keywordflow">if</span> (delim.find(c) == std::string::npos)
<a name="l00443"></a>00443         {
<a name="l00444"></a>00444             is.putback(c);
<a name="l00445"></a>00445             <span class="keywordflow">break</span>;
<a name="l00446"></a>00446         }
<a name="l00447"></a>00447     }
<a name="l00448"></a>00448 
<a name="l00449"></a>00449     <span class="comment">//</span>
<a name="l00450"></a>00450     <span class="comment">// read characters until the first occurence of a delimiter</span>
<a name="l00451"></a>00451     <span class="comment">//</span>
<a name="l00452"></a>00452     <span class="keywordflow">while</span> (is &amp;&amp; ! is.eof())
<a name="l00453"></a>00453     {
<a name="l00454"></a>00454         is.get(c);
<a name="l00455"></a>00455         <span class="keywordflow">if</span> (delim.find(c) != std::string::npos)
<a name="l00456"></a>00456             <span class="keywordflow">break</span>;
<a name="l00457"></a>00457         token += c;
<a name="l00458"></a>00458     }
<a name="l00459"></a>00459 
<a name="l00460"></a>00460     <span class="keywordflow">return</span> c;
<a name="l00461"></a>00461 }
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span>}
<a name="l00465"></a>00465 <span class="preprocessor">#endif</span>
<a name="l00466"></a>00466 <span class="preprocessor"></span>
<a name="l00467"></a>00467 <span class="comment">//===========================================================================</span>
<a name="l00468"></a>00468 
<a name="l00469"></a>00469 <span class="comment">/*</span>
<a name="l00470"></a>00470 <span class="comment"> * \t = 0x09 tab</span>
<a name="l00471"></a>00471 <span class="comment"> * \r = 0x0d carriage return</span>
<a name="l00472"></a>00472 <span class="comment"> * \n = 0x0a newline</span>
<a name="l00473"></a>00473 <span class="comment"> * \v = 0x0b vertical tab</span>
<a name="l00474"></a>00474 <span class="comment"> * \a = 0x07 alert bell</span>
<a name="l00475"></a>00475 <span class="comment"> * \f = 0x0c form feed</span>
<a name="l00476"></a>00476 <span class="comment"> * \b = 0x08 backspace</span>
<a name="l00477"></a>00477 <span class="comment"> * \e = 0x1b escape</span>
<a name="l00478"></a>00478 <span class="comment"> */</span>
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 <span class="preprocessor">#ifndef __GNUC__</span>
<a name="l00481"></a>00481 <span class="preprocessor"></span><span class="keyword">namespace </span>FileUtil
<a name="l00482"></a>00482 {
<a name="l00483"></a>00483 <span class="preprocessor">#endif</span>
<a name="l00484"></a>00484 <span class="preprocessor"></span>
<a name="l00485"></a>00485 <span class="comment">//===========================================================================</span>
<a name="l00512"></a>00512 <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> scanFrom(std::istream&amp; is, std::string&amp; t)
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514     <span class="keywordtype">char</span> c, delim = <span class="charliteral">&#39; &#39;</span>;
<a name="l00515"></a>00515     std::string tt = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517     <span class="keywordflow">if</span> (is)
<a name="l00518"></a>00518     {
<a name="l00519"></a>00519         <span class="comment">//</span>
<a name="l00520"></a>00520         <span class="comment">// skip leading white space characters</span>
<a name="l00521"></a>00521         <span class="comment">//</span>
<a name="l00522"></a>00522         <span class="keywordflow">do</span>
<a name="l00523"></a>00523             is.get(c);
<a name="l00524"></a>00524         <span class="keywordflow">while</span> (is &amp;&amp; ! is.eof() &amp;&amp; isspace(c));
<a name="l00525"></a>00525         <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\&quot;&#39;</span> || c == <span class="charliteral">&#39;\&#39;&#39;</span>)
<a name="l00526"></a>00526         {
<a name="l00527"></a>00527             delim = c;
<a name="l00528"></a>00528             is.get(c);
<a name="l00529"></a>00529         }
<a name="l00530"></a>00530 
<a name="l00531"></a>00531         <span class="keywordflow">while</span> (is &amp;&amp; ! is.eof() &amp;&amp; c != delim &amp;&amp; (delim != <span class="charliteral">&#39; &#39;</span> || ! isspace(c)))
<a name="l00532"></a>00532         {
<a name="l00533"></a>00533             <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
<a name="l00534"></a>00534             {
<a name="l00535"></a>00535                 is.get(c);
<a name="l00536"></a>00536                 <span class="keywordflow">switch</span> (c)
<a name="l00537"></a>00537                 {
<a name="l00538"></a>00538                 <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span> : c = <span class="charliteral">&#39;\t&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00539"></a>00539                 <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span> : c = <span class="charliteral">&#39;\r&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00540"></a>00540                 <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span> : c = <span class="charliteral">&#39;\n&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00541"></a>00541                 <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span> : c = <span class="charliteral">&#39;\v&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00542"></a>00542                 <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span> : c = <span class="charliteral">&#39;\a&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00543"></a>00543                 <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span> : c = <span class="charliteral">&#39;\f&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00544"></a>00544                 <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span> : c = <span class="charliteral">&#39;\b&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00545"></a>00545                 }
<a name="l00546"></a>00546             }
<a name="l00547"></a>00547             tt += c;
<a name="l00548"></a>00548             is.get(c);
<a name="l00549"></a>00549         }
<a name="l00550"></a>00550 
<a name="l00551"></a>00551         t = tt;
<a name="l00552"></a>00552     }
<a name="l00553"></a>00553     <span class="keywordflow">else</span>
<a name="l00554"></a>00554         is.clear();
<a name="l00555"></a>00555 
<a name="l00556"></a>00556     <span class="keywordflow">return</span> is.good();
<a name="l00557"></a>00557 }
<a name="l00558"></a>00558 
<a name="l00559"></a>00559 <span class="comment">//===========================================================================</span>
<a name="l00598"></a>00598 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00599"></a><a class="code" href="namespace_file_util.html#a536fd026d5f4d6f73938a4045f415257">00599</a> <span class="keywordtype">bool</span> scanFrom(std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token, std::string&amp; t, <span class="keywordtype">bool</span> rew)
<a name="l00600"></a>00600 {
<a name="l00601"></a>00601     <span class="keywordflow">if</span> (rew) <a class="code" href="namespace_file_util.html#aeabcc2110b9133a9c97479c4b017b842" title="The get pointer is set to the beginning of stream &amp;quot;is&amp;quot;.">rewind</a>(is);
<a name="l00602"></a>00602     <a class="code" href="namespace_file_util.html#a077dd4a8a1ec9ea5869fe8ff6f5d28cb" title="Reads from input stream &amp;quot;is&amp;quot; until &amp;quot;token&amp;quot; is found.">skipuntil</a>(is, token);
<a name="l00603"></a>00603     <span class="keywordflow">return</span> scanFrom(is, t);
<a name="l00604"></a>00604 }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 <span class="comment">//===========================================================================</span>
<a name="l00666"></a>00666 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00667"></a><a class="code" href="namespace_file_util.html#a6446d8b6f3676f0b4069664cd9f2b06b">00667</a> <span class="keywordtype">bool</span> scanFrom(std::istream&amp; is, <span class="keyword">const</span> std::string&amp; token, std::vector&lt; std::string &gt;&amp; t,
<a name="l00668"></a>00668               <span class="keywordtype">bool</span> rew)
<a name="l00669"></a>00669 {
<a name="l00670"></a>00670     <span class="keywordtype">char</span>   c;
<a name="l00671"></a>00671     <span class="keywordtype">bool</span>   ok;
<a name="l00672"></a>00672     std::string tt;
<a name="l00673"></a>00673 
<a name="l00674"></a>00674     <span class="keywordflow">if</span> (rew) <a class="code" href="namespace_file_util.html#aeabcc2110b9133a9c97479c4b017b842" title="The get pointer is set to the beginning of stream &amp;quot;is&amp;quot;.">rewind</a>(is);
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <a class="code" href="namespace_file_util.html#a077dd4a8a1ec9ea5869fe8ff6f5d28cb" title="Reads from input stream &amp;quot;is&amp;quot; until &amp;quot;token&amp;quot; is found.">skipuntil</a>(is, token);
<a name="l00677"></a>00677 
<a name="l00678"></a>00678     <span class="keywordflow">if</span> (is)
<a name="l00679"></a>00679     {
<a name="l00680"></a>00680         t.erase(t.begin(), t.end());
<a name="l00681"></a>00681         is &gt;&gt; c;
<a name="l00682"></a>00682         <span class="keywordflow">if</span> (c != <span class="charliteral">&#39;(&#39;</span>)
<a name="l00683"></a>00683         {
<a name="l00684"></a>00684             is.putback(c);
<a name="l00685"></a>00685             ok = scanFrom(is, tt);
<a name="l00686"></a>00686             t.push_back(tt);
<a name="l00687"></a>00687             <span class="keywordflow">return</span> ok;
<a name="l00688"></a>00688         }
<a name="l00689"></a>00689         <span class="keywordflow">else</span> <span class="keywordflow">while</span> (is)
<a name="l00690"></a>00690             {
<a name="l00691"></a>00691                 ok = scanFrom(is, tt);
<a name="l00692"></a>00692                 t.push_back(tt);
<a name="l00693"></a>00693                 <span class="keywordflow">if</span> (! ok)
<a name="l00694"></a>00694                     <span class="keywordflow">break</span>;
<a name="l00695"></a>00695                 is &gt;&gt; c;
<a name="l00696"></a>00696                 <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;)&#39;</span>)
<a name="l00697"></a>00697                     <span class="keywordflow">break</span>;
<a name="l00698"></a>00698                 is.putback(c);
<a name="l00699"></a>00699             }
<a name="l00700"></a>00700     }
<a name="l00701"></a>00701     <span class="keywordflow">else</span>
<a name="l00702"></a>00702         is.clear();
<a name="l00703"></a>00703 
<a name="l00704"></a>00704     <span class="keywordflow">return</span> is.good();
<a name="l00705"></a>00705 }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707 
<a name="l00708"></a>00708 
<a name="l00709"></a>00709 <span class="comment">//===========================================================================</span>
<a name="l00735"></a>00735 <span class="comment"></span><span class="keyword">static</span> <span class="keywordtype">bool</span> printTo(std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; t)
<a name="l00736"></a>00736 {
<a name="l00737"></a>00737     os &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00738"></a>00738     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; t.length(); ++i)
<a name="l00739"></a>00739     {
<a name="l00740"></a>00740         <span class="keywordtype">char</span> c = t[ i ];
<a name="l00741"></a>00741         <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;\\&#39;</span>)
<a name="l00742"></a>00742         {
<a name="l00743"></a>00743             <span class="keywordflow">switch</span> (t[ ++i ])
<a name="l00744"></a>00744             {
<a name="l00745"></a>00745             <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span> : c = <span class="charliteral">&#39;\t&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00746"></a>00746             <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span> : c = <span class="charliteral">&#39;\r&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00747"></a>00747             <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span> : c = <span class="charliteral">&#39;\n&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00748"></a>00748             <span class="keywordflow">case</span> <span class="charliteral">&#39;v&#39;</span> : c = <span class="charliteral">&#39;\v&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00749"></a>00749             <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span> : c = <span class="charliteral">&#39;\a&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00750"></a>00750             <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span> : c = <span class="charliteral">&#39;\f&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00751"></a>00751             <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span> : c = <span class="charliteral">&#39;\b&#39;</span>; <span class="keywordflow">break</span>;
<a name="l00752"></a>00752             <span class="keywordflow">default</span>  : c = t[ i-1 ];
<a name="l00753"></a>00753             }
<a name="l00754"></a>00754         }
<a name="l00755"></a>00755         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c == <span class="charliteral">&#39;&quot;&#39;</span>)
<a name="l00756"></a>00756             os &lt;&lt; <span class="charliteral">&#39;\\&#39;</span>;
<a name="l00757"></a>00757         os &lt;&lt; c;
<a name="l00758"></a>00758     }
<a name="l00759"></a>00759     os &lt;&lt; <span class="charliteral">&#39;&quot;&#39;</span> &lt;&lt; endl;
<a name="l00760"></a>00760     <span class="keywordflow">return</span> os.good();
<a name="l00761"></a>00761 }
<a name="l00762"></a>00762 
<a name="l00763"></a>00763 
<a name="l00764"></a>00764 <span class="comment">//===========================================================================</span>
<a name="l00794"></a>00794 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00795"></a><a class="code" href="namespace_file_util.html#aadd196188f517a82f0531de4b10f455c">00795</a> <span class="keywordtype">bool</span> printTo(std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token, <span class="keyword">const</span> std::string&amp; t)
<a name="l00796"></a>00796 {
<a name="l00797"></a>00797     os &lt;&lt; token &lt;&lt; <span class="charliteral">&#39;\t&#39;</span>;
<a name="l00798"></a>00798     <span class="keywordflow">return</span> printTo(os, t);
<a name="l00799"></a>00799 }
<a name="l00800"></a>00800 
<a name="l00801"></a>00801 
<a name="l00802"></a>00802 
<a name="l00803"></a>00803 <span class="comment">//===========================================================================</span>
<a name="l00834"></a>00834 <span class="comment"></span><span class="keyword">template</span> &lt; &gt;
<a name="l00835"></a><a class="code" href="namespace_file_util.html#a24cecfb8f665eeb184905e7c17720b06">00835</a> <span class="keywordtype">bool</span> printTo(std::ostream&amp; os, <span class="keyword">const</span> std::string&amp; token, <span class="keyword">const</span> std::vector&lt; std::string &gt;&amp; t)
<a name="l00836"></a>00836 {
<a name="l00837"></a>00837     os &lt;&lt; token &lt;&lt; <span class="stringliteral">&quot;\t(&quot;</span>;
<a name="l00838"></a>00838     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; t.size() &amp;&amp; os; ++i)
<a name="l00839"></a>00839     {
<a name="l00840"></a>00840         os &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00841"></a>00841         printTo(os, t[ i ]);
<a name="l00842"></a>00842     }
<a name="l00843"></a>00843     os &lt;&lt; <span class="stringliteral">&quot; )&quot;</span> &lt;&lt; endl;
<a name="l00844"></a>00844     <span class="keywordflow">return</span> os.good();
<a name="l00845"></a>00845 }
<a name="l00846"></a>00846 
<a name="l00847"></a>00847 
<a name="l00848"></a>00848 }
<a name="l00849"></a>00849 
</pre></div></div>
</div>
</div>
</div>
</body></html>
