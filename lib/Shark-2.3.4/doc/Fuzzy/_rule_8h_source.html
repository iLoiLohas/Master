<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Fuzzy: Rule.h Source File</title>
<script type="text/javaScript" src="search/search.js"></script>
<link href="../css/main.css" rel="stylesheet" type="text/css"/>
</head>
<body id="type-b">

<div id="wrap">
<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
<div id="poweredby">
<img style="width: 95%;" src="../images/SharkLogo.png"/>
</div>		
  
<ul id="nav">
  <li class="first"><a href="../index.html">About Shark</a></li>
  <li><a href="#">Sourceforge</a>
  
  <ul>
    <li class="first"><a href="http://shark-project.sourceforge.net">Project Summary</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/files/">Downloads</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/develop">Subversion Repository</a></li>
  </ul>
  
</li>
<li class="first"><a href="../GettingStarted.html">Getting Started</a>
<li class="first"><a href="../Tutorials.html">Tutorials</a>
<li class="first"><a href="../FAQ.html">FAQ</a>

<li class="first"><a href="#">Main Modules</a>
<ul>
  <li class="first"><a href="../ReClaM/index.html">ReClaM</a>
  <li class="first"><a href="../EALib/index.html">EALib</a>
  <li class="first"><a href="../MOO-EALib/index.html">MOO-EALib</a>
  <li class="first"><a href="../Fuzzy/index.html">Fuzzy</a>
</ul>
</li>
<li class="first"><a href="#">Tools</a>
<ul>
  <li class="first"><a href="../Mixture/index.html">Mixture</a>
  <li><a href="../Array/index.html">Array</a>
  <li><a href="../Rng/index.html">Rng</a>
  <li><a href="../LinAlg/index.html">LinAlg</a>
  <li class="last"><a href="../FileUtil/index.html">FileUtil</a>		    
</ul>
</li>
</ul>
</div>

<!--<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
  <ul id="nav">
    <li><a href="../index.html"><span>Shark&nbsp;Main&nbsp;Page</span></a></li>
    <li><a href="../Array/index.html"><span>Array</span></a></li>
    <li><a href="../Rng/index.html"><span>Rng</span></a></li>
    <li><a href="../LinAlg/index.html"><span>LinAlg</span></a></li>
    <li><a href="../FileUtil/index.html"><span>FileUtil</span></a></li>
    <li><a href="../EALib/index.html"><span>EALib</span></a></li>
    <li><a href="../MOO-EALib/index.html"><span>MOO-EALib</span></a></li>
    <li class="active"><a href="../ReClaM/index.html"><span>ReClaM</span></a></li>
    <li><a href="../Fuzzy/index.html"><span>Fuzzy</span></a></li>
    <li><a href="../Mixture/index.html"><span>Mixture</span></a></li>
    <li><a href="../tutorials/index.html"><span>Tutorials</span></a></li>
    <li><a href="../faq/index.html"><span>FAQ</span></a></li>
  </ul>
 </div> -->
<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>Rule.h</h1>  </div>
</div>
<div class="contents">
<a href="_rule_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00024"></a>00024 <span class="comment">/* $log$ */</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#ifndef RULE_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#define RULE_H</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="_r_c_ptr_8h.html" title="Template class for Reference Counted Pointers.">RCPtr.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>  <span class="comment">//variable length parameter lists</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="_fuzzy_set_8h.html" title="Abstract super class for specific fuzzy sets.">FuzzySet.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="_fuzzy_exception_8h.html" title="Implementation of an exception for error handling.">FuzzyException.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="_r_c_ptr_8h.html" title="Template class for Reference Counted Pointers.">RCPtr.h</a>&quot;</span>
<a name="l00035"></a>00035 <span class="preprocessor">#include &quot;<a class="code" href="_r_c_object_8h.html" title="Base class for Reference Counted Objects.">RCObject.h</a>&quot;</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="class_fuzzy_exception.html" title="Implementation of an exception for error handling.">FuzzyException</a>;
<a name="l00040"></a>00040 <span class="keyword">class </span><a class="code" href="class_linguistic_term.html" title="A single linguistic term.">LinguisticTerm</a>;
<a name="l00041"></a>00041 <span class="keyword">class </span><a class="code" href="class_rule_base.html" title="A composite of rules.">RuleBase</a>;
<a name="l00042"></a>00042 <span class="keyword">class </span><a class="code" href="class_n_dim_f_s.html" title="Base class for n-dimensional fuzzy sets.">NDimFS</a>;
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">00044</a> <span class="keyword">enum</span> <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">Connective</a> {
<a name="l00045"></a><a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a865555c9f2e0458a7078486aa1b3254f">00045</a>     <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a865555c9f2e0458a7078486aa1b3254f">AND</a>, 
<a name="l00046"></a><a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a96727447c0ad447987df1c6415aef074">00046</a>     <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a96727447c0ad447987df1c6415aef074">OR</a>, 
<a name="l00047"></a><a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a8c1ee604623e3b984eb83ca2811b11ba">00047</a>     <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a8c1ee604623e3b984eb83ca2811b11ba">PROD</a>, 
<a name="l00048"></a><a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813ac2a8333c085cf397c094d05ce13b146a">00048</a>     <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813ac2a8333c085cf397c094d05ce13b146a">PROBOR</a>
<a name="l00049"></a>00049 }; <span class="comment">//order is important cf parsing</span>
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 
<a name="l00063"></a><a class="code" href="class_rule.html">00063</a> <span class="keyword">class </span><a class="code" href="class_rule.html" title="A rule which is composed of premise and conclusion.">Rule</a>: <span class="keyword">virtual</span> <span class="keyword">public</span> <a class="code" href="class_r_c_object.html" title="Base class for Reference Counted Objects.">RCObject</a> {
<a name="l00064"></a>00064 <span class="keyword">public</span>:
<a name="l00065"></a><a class="code" href="class_rule.html#a8e7a81f07ecd18ccee11c82986cccb1e">00065</a>     <span class="keyword">typedef</span> std::vector&lt; RCPtr&lt;FuzzySet&gt; &gt;  <a class="code" href="class_rule.html#a8e7a81f07ecd18ccee11c82986cccb1e">IORuleType</a>;
<a name="l00066"></a><a class="code" href="class_rule.html#ac72b3ca27d53d18aa482b6834a72e282">00066</a>     <span class="keyword">typedef</span> std::vector&lt; RCPtr&lt;FuzzySet&gt; &gt;  <a class="code" href="class_rule.html#ac72b3ca27d53d18aa482b6834a72e282">ConclusionType</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00073"></a>00073     <a class="code" href="class_rule.html#aa29e6bbad403cdd7e2c874fb3848ea90" title="Default constructor.">Rule</a>(<a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">Connective</a> c=<a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813a865555c9f2e0458a7078486aa1b3254f">AND</a>,
<a name="l00074"></a>00074          <a class="code" href="class_rule_base.html" title="A composite of rules.">RuleBase</a> * belongsTo = NULL,
<a name="l00075"></a>00075          <span class="keywordtype">double</span>  _weight = 1.0);
<a name="l00076"></a>00076 
<a name="l00094"></a>00094 <a class="code" href="class_rule.html#aa29e6bbad403cdd7e2c874fb3848ea90" title="Default constructor.">Rule</a>( std::string ruleText,
<a name="l00095"></a>00095       <a class="code" href="class_rule_base.html" title="A composite of rules.">RuleBase</a> * belongsTo,
<a name="l00096"></a>00096       <span class="keywordtype">double</span> _weight = 1.0 );
<a name="l00097"></a>00097 
<a name="l00098"></a>00098 <span class="comment">// destructor</span>
<a name="l00099"></a>00099 <span class="keyword">virtual</span>                      <a class="code" href="class_rule.html#a92760fc705b3da696f86e42b77943c21">~Rule</a>();
<a name="l00100"></a>00100 
<a name="l00111"></a>00111 <span class="keywordtype">double</span>                       <a class="code" href="class_rule.html#a405c9a34e82b256447216eb1b62f1830" title="Returns the activation of the premise of the rule for a given input vector.">Activation</a>(<span class="keyword">const</span> std::vector&lt;double&gt; &amp; inputs) <span class="keyword">const</span>;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 <span class="comment">//If single input is required allow double as parameter: (instead of a vector of one element)</span>
<a name="l00117"></a>00117 
<a name="l00128"></a>00128 <span class="keyword">inline</span> <span class="keywordtype">double</span>                <a class="code" href="class_rule.html#a405c9a34e82b256447216eb1b62f1830" title="Returns the activation of the premise of the rule for a given input vector.">Activation</a>(<span class="keywordtype">double</span> input) <span class="keyword">const</span>;
<a name="l00129"></a>00129    
<a name="l00130"></a>00130    
<a name="l00131"></a>00131    
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="comment">//Allow variable length parameter lists, where the first parameter indictes the number of double arguments: #ARGUMENTS, DOUBLE, DOUBLE...</span>
<a name="l00134"></a>00134 
<a name="l00135"></a>00135     <span class="comment">// double                       Activation(...) const;</span>
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00143"></a>00143 <span class="keywordtype">void</span>                         <a class="code" href="class_rule.html#a19381d4f89086d2ec3d9921221e5926a" title="Sets the connective, that shell be used in the premise.">setConnective</a>(<a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">Connective</a> con);
<a name="l00144"></a>00144 
<a name="l00150"></a>00150 std::string                  <a class="code" href="class_rule.html#a29e883f7d5d1c03d2b795a21a3e58158" title="Returns the rule given by a string.">printRule</a>() <span class="keyword">const</span>;
<a name="l00151"></a>00151     
<a name="l00152"></a>00152     
<a name="l00158"></a>00158 <span class="keyword">virtual</span> <span class="keywordtype">void</span>                 <a class="code" href="class_rule.html#a7d76bea1e855c51cfc00eb132a1b5d83" title="Adds a linguistic therm to the premise.">addPremise</a>(<span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt);
<a name="l00159"></a>00159     
<a name="l00166"></a>00166 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_rule.html#a7d76bea1e855c51cfc00eb132a1b5d83" title="Adds a linguistic therm to the premise.">addPremise</a>(<span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt1,
<a name="l00167"></a>00167                         <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt2);
<a name="l00168"></a>00168                                             
<a name="l00176"></a>00176 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_rule.html#a7d76bea1e855c51cfc00eb132a1b5d83" title="Adds a linguistic therm to the premise.">addPremise</a>(<span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt1,
<a name="l00177"></a>00177              <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt2,
<a name="l00178"></a>00178              <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt3);
<a name="l00179"></a>00179                                             
<a name="l00188"></a>00188 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_rule.html#a7d76bea1e855c51cfc00eb132a1b5d83" title="Adds a linguistic therm to the premise.">addPremise</a>(<span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt1,
<a name="l00189"></a>00189              <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt2,
<a name="l00190"></a>00190              <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt3,
<a name="l00191"></a>00191              <span class="keyword">const</span> <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a> &amp; lt4);
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="comment">// We are presuming complete conclusions, i.e. each rule in a rule base has the</span>
<a name="l00194"></a>00194 <span class="comment">// same number of entries in the conclusions and the n-th entry in each rule</span>
<a name="l00195"></a>00195 <span class="comment">// refers to the same output.</span>
<a name="l00196"></a>00196 
<a name="l00202"></a>00202 <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_rule.html#a5c5c32c00ec7edc91b7a32546b9480d4" title="Adds a linguistic therm to the conclusion.">addConclusion</a>(<span class="keyword">const</span>  <a class="code" href="class_r_c_ptr.html" title="Template class for Reference Counted Pointers.">RCPtr&lt;LinguisticTerm&gt;</a>&amp; lt);
<a name="l00203"></a>00203 
<a name="l00209"></a>00209 <a class="code" href="class_n_dim_f_s.html" title="Base class for n-dimensional fuzzy sets.">NDimFS</a> * <a class="code" href="class_rule.html#ae11bc9e2441aa2eb00e8cd3bb7558f5d" title="Returns the premise of a rule.">getPremise</a>();
<a name="l00210"></a>00210     
<a name="l00216"></a><a class="code" href="class_rule.html#a820af60adae67994662e58db2732c44b">00216</a> <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="class_rule.html#ac72b3ca27d53d18aa482b6834a72e282">ConclusionType</a>&amp; <a class="code" href="class_rule.html#a820af60adae67994662e58db2732c44b" title="Returns the conclusion of a rule.">getConclusion</a>()<span class="keyword"> const </span>{
<a name="l00217"></a>00217     <span class="keywordflow">return</span>(conclusion);
<a name="l00218"></a>00218 };
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 
<a name="l00226"></a><a class="code" href="class_rule.html#a383d0c2607ea93b9780b00fe70188b84">00226</a> <span class="keyword">inline</span> <span class="keywordtype">double</span> <a class="code" href="class_rule.html#a383d0c2607ea93b9780b00fe70188b84" title="Returns the weight of a rule.">getWeight</a>()<span class="keyword"> const </span>{
<a name="l00227"></a>00227     <span class="keywordflow">return</span>(weight);
<a name="l00228"></a><a class="code" href="class_rule.html#ad78255f18b5d9cac52b82c707d71bb0a">00228</a> };
<a name="l00229"></a>00229     
<a name="l00230"></a>00230 <span class="keyword">protected</span>:
<a name="l00231"></a>00231     
<a name="l00232"></a>00232     <a class="code" href="class_rule_base.html" title="A composite of rules.">RuleBase</a> *                   <a class="code" href="class_rule.html#ad78255f18b5d9cac52b82c707d71bb0a">ruleBasePtr</a>;
<a name="l00233"></a>00233     
<a name="l00234"></a>00234 <span class="keyword">private</span>:
<a name="l00235"></a>00235     
<a name="l00236"></a>00236     <span class="keyword">typedef</span> <span class="keywordtype">double</span> ConnectiveFuncType( <span class="keywordtype">double</span>, <span class="keywordtype">double</span> );
<a name="l00237"></a>00237     
<a name="l00238"></a>00238     ConnectiveFuncType*          connectiveFunc;
<a name="l00239"></a>00239 
<a name="l00240"></a>00240 <span class="comment">//Attributes:</span>
<a name="l00241"></a>00241     <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">Connective</a>                   ruleConnective;
<a name="l00242"></a>00242     <a class="code" href="class_rule.html#a8e7a81f07ecd18ccee11c82986cccb1e">IORuleType</a>                   premise;
<a name="l00243"></a>00243     <a class="code" href="class_rule.html#ac72b3ca27d53d18aa482b6834a72e282">ConclusionType</a>               conclusion;
<a name="l00244"></a>00244     <span class="keywordtype">double</span>                       weight;
<a name="l00245"></a>00245 
<a name="l00246"></a>00246 <span class="comment">//Methods:</span>
<a name="l00247"></a>00247     <span class="keywordtype">void</span>                         initializePremise();
<a name="l00248"></a>00248     <span class="comment">// The following method is dangerous, because it allows to set the premise</span>
<a name="l00249"></a>00249     <span class="comment">// which must be of normalized form, which is not checked. (cf addPremise)</span>
<a name="l00250"></a>00250     <span class="keywordtype">void</span>                         setRule(<a class="code" href="class_rule.html#a8e7a81f07ecd18ccee11c82986cccb1e">IORuleType</a> &amp;, <a class="code" href="_rule_8h.html#ac160f970479c37c4e765816f8f8d5813">Connective</a>, <a class="code" href="class_rule.html#ac72b3ca27d53d18aa482b6834a72e282">ConclusionType</a> &amp;);
<a name="l00251"></a>00251     <span class="keywordtype">char</span>*                        nextToken(<span class="keywordtype">char</span>* tokenPtr);
<a name="l00252"></a>00252 };
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
</div>
</div>
</body></html>
