<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LinAlg: linalg_simple_test.cpp</title>
<script type="text/javaScript" src="search/search.js"></script>
<link href="../css/main.css" rel="stylesheet" type="text/css"/>
</head>
<body id="type-b">

<div id="wrap">
<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
<div id="poweredby">
<img style="width: 95%;" src="../images/SharkLogo.png"/>
</div>		
  
<ul id="nav">
  <li class="first"><a href="../index.html">About Shark</a></li>
  <li><a href="#">Sourceforge</a>
  
  <ul>
    <li class="first"><a href="http://shark-project.sourceforge.net">Project Summary</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/files/">Downloads</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/develop">Subversion Repository</a></li>
  </ul>
  
</li>
<li class="first"><a href="../GettingStarted.html">Getting Started</a>
<li class="first"><a href="../Tutorials.html">Tutorials</a>
<li class="first"><a href="../FAQ.html">FAQ</a>

<li class="first"><a href="#">Main Modules</a>
<ul>
  <li class="first"><a href="../ReClaM/index.html">ReClaM</a>
  <li class="first"><a href="../EALib/index.html">EALib</a>
  <li class="first"><a href="../MOO-EALib/index.html">MOO-EALib</a>
  <li class="first"><a href="../Fuzzy/index.html">Fuzzy</a>
</ul>
</li>
<li class="first"><a href="#">Tools</a>
<ul>
  <li class="first"><a href="../Mixture/index.html">Mixture</a>
  <li><a href="../Array/index.html">Array</a>
  <li><a href="../Rng/index.html">Rng</a>
  <li><a href="../LinAlg/index.html">LinAlg</a>
  <li class="last"><a href="../FileUtil/index.html">FileUtil</a>		    
</ul>
</li>
</ul>
</div>

<!--<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
  <ul id="nav">
    <li><a href="../index.html"><span>Shark&nbsp;Main&nbsp;Page</span></a></li>
    <li><a href="../Array/index.html"><span>Array</span></a></li>
    <li><a href="../Rng/index.html"><span>Rng</span></a></li>
    <li><a href="../LinAlg/index.html"><span>LinAlg</span></a></li>
    <li><a href="../FileUtil/index.html"><span>FileUtil</span></a></li>
    <li><a href="../EALib/index.html"><span>EALib</span></a></li>
    <li><a href="../MOO-EALib/index.html"><span>MOO-EALib</span></a></li>
    <li class="active"><a href="../ReClaM/index.html"><span>ReClaM</span></a></li>
    <li><a href="../Fuzzy/index.html"><span>Fuzzy</span></a></li>
    <li><a href="../Mixture/index.html"><span>Mixture</span></a></li>
    <li><a href="../tutorials/index.html"><span>Tutorials</span></a></li>
    <li><a href="../faq/index.html"><span>FAQ</span></a></li>
  </ul>
 </div> -->
<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>linalg_simple_test.cpp</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><span class="comment">//===========================================================================</span>
<span class="comment"></span><span class="comment">//===========================================================================</span>

<span class="preprocessor">#include &quot;Array/Array.h&quot;</span>
<span class="preprocessor">#include &quot;Array/ArrayIo.h&quot;</span>
<span class="preprocessor">#include &quot;Rng/GlobalRng.h&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="_lin_alg_8h.html" title="Some operations for matrices.">LinAlg/LinAlg.h</a>&quot;</span>
<span class="preprocessor">#include &quot;SharkDefs.h&quot;</span>

<span class="keyword">using namespace </span>std;

<span class="comment">// Will initialize a vector or 2-dimensional matrix</span>
<span class="comment">// by random numbers:</span>
<span class="comment">//</span>
<span class="keywordtype">void</span> init_array(Array&lt; double &gt; &amp;a)
{
    Uniform  uni;           <span class="comment">// Random number generator:</span>
    <span class="keywordtype">unsigned</span> no_dims(0),    <span class="comment">// No. of Array dimensions.</span>
    no_rows(0),    <span class="comment">// No. of rows (matrix) or columns (vector).</span>
    no_cols(0),    <span class="comment">// No. of columns (matrix).</span>
    curr_row,      <span class="comment">// Current row (matrix) or column (vector).</span>
    curr_col;      <span class="comment">// Current column (matrix).</span>


    <span class="comment">// Determine no. of dimensions, rows and columns:</span>
    no_dims = a.ndim();
    <span class="keywordflow">if</span> (no_dims &lt; 1 || no_dims &gt; 2) {
      <span class="keywordflow">throw</span> SHARKEXCEPTION(<span class="stringliteral">&quot;Can&#39;t initialize array - dimension error!&quot;</span>);
    }
    no_rows = a.dim(0);
    <span class="keywordflow">if</span> (no_dims &gt; 1) no_cols = a.dim(1);

    <span class="comment">// Initialize Array:</span>
    <span class="keywordflow">for</span> (curr_row = 0; curr_row &lt; no_rows; curr_row++) {
        <span class="comment">// Vector:</span>
        <span class="keywordflow">if</span> (no_dims == 1) {
            a(curr_row) = uni(-9., 9.);
        }
        <span class="keywordflow">else</span> {
            <span class="comment">// Matrix:</span>
            <span class="keywordflow">for</span> (curr_col = 0; curr_col &lt; no_cols; curr_col++) {
                a(curr_row, curr_col) = uni(-9., 9.);
            }
        }
    }

    <span class="keywordflow">return</span>;
}


<span class="comment">// Example for function &quot;mean(...)&quot;:</span>
<span class="keywordtype">bool</span> test_mean(Array&lt; double &gt; &amp;input)
{
    Array&lt; double &gt; mean_vec; <span class="comment">// Vector of mean values.</span>

    <span class="comment">// Clear result vector:</span>
    mean_vec = 0.;
    <span class="comment">// Calculate mean vector:</span>
    mean_vec = <a name="a0"></a><a class="code" href="_lin_alg_8cpp.html#abf0946c983ad589902e35ceb9026ef60" title="Calculates the mean vector of array &amp;quot;x&amp;quot;.">mean</a>(input);
    <span class="comment">// Output of input matrix and mean values vector:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input matrix:&quot;</span> &lt;&lt; endl;
    writeArray(input, cout);
    cout &lt;&lt; <span class="stringliteral">&quot;vector of matrix mean values:&quot;</span> &lt;&lt; endl;
    writeArray(mean_vec, cout);
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(mean_vec(0)-1.51684)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}


<span class="comment">// Example for function &quot;variance(...)&quot;:</span>
<span class="keywordtype">bool</span> test_variance(Array&lt; double &gt; &amp;input)
{
    Array&lt; double &gt; var_vec; <span class="comment">// Vector of variance values.</span>

    <span class="comment">// Clear result vector:</span>
    var_vec = 0.;
    <span class="comment">// Calculate variance vector:</span>
    var_vec = <a name="a1"></a><a class="code" href="_lin_alg_8cpp.html#af52620c3e1c24b07a79433a5ff8810a5" title="Calculates the variance vector of array &amp;quot;x&amp;quot;.">variance</a>(input);
    <span class="comment">// Output of input matrix and variance vector:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input matrix:&quot;</span> &lt;&lt; endl;
    writeArray(input, cout);
    cout &lt;&lt; <span class="stringliteral">&quot;vector of matrix variance values:&quot;</span> &lt;&lt; endl;
    writeArray(var_vec, cout);
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(var_vec(0)-8.78551)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}

<span class="comment">// Example for function &quot;angle(...)&quot;:</span>
<span class="keywordtype">bool</span> test_angle(Array&lt; double &gt; &amp;copy_from_matrix)
{
    Array&lt; double &gt; x(4),       <span class="comment">// Input vectors.</span>
    y(4);
    <span class="keywordtype">double</span>          angl(0.);   <span class="comment">// Angle between vectors.</span>


    <span class="comment">// Initialize vectors by copying rows no. 1 and 2</span>
    <span class="comment">// of global input matrix:</span>
    x = copy_from_matrix[ 0 ];
    y = copy_from_matrix[ 1 ];


    <span class="comment">// Calculate angle between the input vectors:</span>
    angl = <a name="a2"></a><a class="code" href="_lin_alg_8cpp.html#a358701dfdb0a38073546c97ab641bb8b" title="Calculates the angle between the vectors &amp;quot;x&amp;quot; and &amp;quot;y&amp;quot;.">angle</a>(x, y);
    <span class="comment">// Output of input vectors and angle value:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input vector x:&quot;</span> &lt;&lt; endl;
    writeArray(x, cout);
    cout &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;input vector y:&quot;</span> &lt;&lt; endl;
    writeArray(y, cout);
    cout &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;angle = &quot;</span> &lt;&lt; angl &lt;&lt; endl;
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(angl- -0.362842)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}


<span class="comment">// Example for function &quot;transpose(...)&quot;:</span>
<span class="keywordtype">bool</span> test_transpose(Array&lt; double &gt; &amp;input)
{
    Array&lt; double &gt; trans_matrix; <span class="comment">// Transposed matrix.</span>

    <span class="comment">// Clear result matrix:</span>
    trans_matrix = 0.;
    <span class="comment">// Calculate transpose matrix:</span>
    trans_matrix = <a name="a3"></a><a class="code" href="_lin_alg_8h.html#aaa164073a51840262b1be68a17f91a73">transpose</a>(input);
    <span class="comment">// Output of input matrix and transposed matrix:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input matrix:&quot;</span> &lt;&lt; endl;
    writeArray(input, cout);
    cout &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;transposed matrix:&quot;</span> &lt;&lt; endl;
    writeArray(trans_matrix, cout);
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(trans_matrix(1,0)-1.60387)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}


<span class="comment">// Example for function &quot;diagonal(...)&quot;:</span>
<span class="keywordtype">bool</span> test_diagonal()
{
    Array&lt; double &gt; input_vec(4);   <span class="comment">// Input vector.</span>
    Array&lt; double &gt; matrix;         <span class="comment">// Diagonal matrix.</span>


    init_array(input_vec);
    <span class="comment">// Clear result matrix:</span>
    matrix = 0.;
    <span class="comment">// Create diagonal matrix:</span>
    matrix = <a name="a4"></a><a class="code" href="_lin_alg_8h.html#a9b1705b71b00806be6951614c700abf0">diagonal</a>(input_vec);
    <span class="comment">// Output of input vector and diagonal matrix:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input vector:&quot;</span> &lt;&lt; endl;
    writeArray(input_vec, cout);
    cout &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;diagonal matrix:&quot;</span> &lt;&lt; endl;
    writeArray(matrix, cout);
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(matrix(0,0)- -2.0725)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}


<span class="comment">// Example for function &quot;trace(...)&quot;:</span>
<span class="keywordtype">bool</span> test_trace(Array&lt; double &gt; input)
{
    <span class="keywordtype">double</span> diag_sum(0.);   <span class="comment">// Sum of diagonal values.</span>

    <span class="comment">// Determine sum of diagonal values of input matrix:</span>
    diag_sum = <a name="a5"></a><a class="code" href="_lin_alg_8h.html#ab6af2de50659417cf1e06d6ccb28a76c">trace</a>(input);
    <span class="comment">// Output of input matrix and sum of diagonal values:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input matrix:&quot;</span> &lt;&lt; endl;
    writeArray(input, cout);
    cout &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;sum of diagonal values of matrix = &quot;</span> &lt;&lt; diag_sum &lt;&lt; endl;
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(diag_sum- -3.64975)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}

<span class="comment">// Example for function &quot;meanvar(...)&quot;:</span>
<span class="keywordtype">bool</span> test_meanvar(Array&lt; double &gt; input)
{
    Array&lt; double &gt; mean_vec, <span class="comment">// Vector of mean values.</span>
    var_vec;  <span class="comment">// Variances vector.</span>

    <span class="comment">// Clear result vectors:</span>
    mean_vec = 0.;
    var_vec = 0.;

    <span class="comment">// Calculate mean and variance values:</span>
    <a name="a6"></a><a class="code" href="_lin_alg_8cpp.html#a8417afc1eb4dce58abce2373da455d6a" title="Calculates the mean and variance values of matrix &amp;quot;x&amp;quot;.">meanvar</a>(input, mean_vec, var_vec);
    <span class="comment">// Output of input matrix and result vectors:</span>
    cout &lt;&lt; <span class="stringliteral">&quot;input matrix:&quot;</span> &lt;&lt; endl;
    writeArray(input, cout);
    cout &lt;&lt; <span class="stringliteral">&quot;\nvector of mean values:&quot;</span> &lt;&lt; endl;
    writeArray(mean_vec, cout);
    cout &lt;&lt; <span class="stringliteral">&quot;\nvariances vector:&quot;</span> &lt;&lt; endl;
    writeArray(var_vec, cout);
    cout &lt;&lt; endl &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span>(fabs(var_vec(0)-8.78551)&lt;1.e-5) <span class="keywordflow">return</span> <span class="keyword">true</span>;
    <span class="keywordflow">else</span> <span class="keywordflow">return</span> <span class="keyword">false</span>;
}


<span class="keywordtype">int</span> main()
{
    Array&lt; double &gt; input_matrix(4, 4);

    <span class="comment">//for self-testing, please ignore:</span>
    <span class="keywordtype">bool</span> testmean,testvar, testangle,testtrans,testdiag, testtrace, testmeanvar;
    <span class="comment">// end self-testing block</span>

    <span class="comment">// Initialize global input matrix by random numbers:</span>
    init_array(input_matrix);

    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;mean\&quot;:&quot;</span> &lt;&lt; endl;
    testmean=test_mean(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;variance\&quot;:&quot;</span> &lt;&lt; endl;
    testvar=test_variance(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;angle\&quot;:&quot;</span> &lt;&lt; endl;
    testangle=test_angle(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;transpose\&quot;:&quot;</span> &lt;&lt; endl;
    testtrans=test_transpose(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;diagonal\&quot;:&quot;</span> &lt;&lt; endl;
    testdiag=test_diagonal();
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;trace\&quot;:&quot;</span> &lt;&lt; endl;
    testtrace=test_trace(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;
    cout &lt;&lt; <span class="stringliteral">&quot;Testing function \&quot;meanvar\&quot;:&quot;</span> &lt;&lt; endl;
    testmeanvar=test_meanvar(input_matrix);
    cout &lt;&lt; <span class="stringliteral">&quot;----------------------------------------&quot;</span> &lt;&lt; endl;

    <span class="comment">// lines below are for self-testing this example, please ignore</span>
    <span class="keywordflow">if</span> (testmean &amp;&amp; testvar &amp;&amp;  testangle &amp;&amp; testtrans &amp;&amp; testdiag &amp;&amp;  testtrace &amp;&amp; testmeanvar) exit(EXIT_SUCCESS);
    <span class="keywordflow">else</span> exit(EXIT_FAILURE);
}


</pre></div> </div>
</div>
</div>
</div>
</body></html>
