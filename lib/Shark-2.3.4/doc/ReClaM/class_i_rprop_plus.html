<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ReClaM: IRpropPlus Class Reference</title>
<script type="text/javaScript" src="search/search.js"></script>
<link href="../css/main.css" rel="stylesheet" type="text/css"/>
</head>
<body id="type-b">

<div id="wrap">
<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
<div id="poweredby">
<img style="width: 95%;" src="../images/SharkLogo.png"/>
</div>		
  
<ul id="nav">
  <li class="first"><a href="../index.html">About Shark</a></li>
  <li><a href="#">Sourceforge</a>
  
  <ul>
    <li class="first"><a href="http://shark-project.sourceforge.net">Project Summary</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/files/">Downloads</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/develop">Subversion Repository</a></li>
  </ul>
  
</li>
<li class="first"><a href="../GettingStarted.html">Getting Started</a>
<li class="first"><a href="../Tutorials.html">Tutorials</a>
<li class="first"><a href="../FAQ.html">FAQ</a>

<li class="first"><a href="#">Main Modules</a>
<ul>
  <li class="first"><a href="../ReClaM/index.html">ReClaM</a>
  <li class="first"><a href="../EALib/index.html">EALib</a>
  <li class="first"><a href="../MOO-EALib/index.html">MOO-EALib</a>
  <li class="first"><a href="../Fuzzy/index.html">Fuzzy</a>
</ul>
</li>
<li class="first"><a href="#">Tools</a>
<ul>
  <li class="first"><a href="../Mixture/index.html">Mixture</a>
  <li><a href="../Array/index.html">Array</a>
  <li><a href="../Rng/index.html">Rng</a>
  <li><a href="../LinAlg/index.html">LinAlg</a>
  <li class="last"><a href="../FileUtil/index.html">FileUtil</a>		    
</ul>
</li>
</ul>
</div>

<!--<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
  <ul id="nav">
    <li><a href="../index.html"><span>Shark&nbsp;Main&nbsp;Page</span></a></li>
    <li><a href="../Array/index.html"><span>Array</span></a></li>
    <li><a href="../Rng/index.html"><span>Rng</span></a></li>
    <li><a href="../LinAlg/index.html"><span>LinAlg</span></a></li>
    <li><a href="../FileUtil/index.html"><span>FileUtil</span></a></li>
    <li><a href="../EALib/index.html"><span>EALib</span></a></li>
    <li><a href="../MOO-EALib/index.html"><span>MOO-EALib</span></a></li>
    <li class="active"><a href="../ReClaM/index.html"><span>ReClaM</span></a></li>
    <li><a href="../Fuzzy/index.html"><span>Fuzzy</span></a></li>
    <li><a href="../Mixture/index.html"><span>Mixture</span></a></li>
    <li><a href="../tutorials/index.html"><span>Tutorials</span></a></li>
    <li><a href="../faq/index.html"><span>FAQ</span></a></li>
  </ul>
 </div> -->
<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<h1>IRpropPlus Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="IRpropPlus" --><!-- doxytag: inherits="Optimizer" -->
<p>This class offers methods for the usage of the improved Resilient-Backpropagation-algorithm with weight-backtracking.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_rprop_8h_source.html">Rprop.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IRpropPlus:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_i_rprop_plus.png" usemap="#IRpropPlus_map" alt=""/>
  <map id="IRpropPlus_map" name="IRpropPlus_map">
<area href="class_optimizer.html" alt="Optimizer" shape="rect" coords="0,0,73,24"/>
</map>
 </div></div>

<p><a href="class_i_rprop_plus-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a1200d6b247139bf76b20a9d49768d639">init</a> (<a class="el" href="class_model.html">Model</a> &amp;model)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the optimizer with default parameters.  <a href="#a1200d6b247139bf76b20a9d49768d639"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#ab73ddd30441e3e99ad335cacd56aa039">initUserDefined</a> (<a class="el" href="class_model.html">Model</a> &amp;model, double npP=1.2, double nmP=0.5, double dMaxP=1e100, double dMinP=0.0, double delta0P=0.01)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the Rprop algorithm for the given network.  <a href="#ab73ddd30441e3e99ad335cacd56aa039"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a31f8b715bac9df8f9cf5ee076c8a7250">initUserDefined</a> (<a class="el" href="class_model.html">Model</a> &amp;model, const Array&lt; double &gt; &amp;delta0P, double npP=1.2, double nmP=0.5, double dMaxP=1e100, double dMinP=0.0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Rprop algorithm initialization.  <a href="#a31f8b715bac9df8f9cf5ee076c8a7250"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#af67f44cd73418c5e083fc57704341855">optimize</a> (<a class="el" href="class_model.html">Model</a> &amp;model, <a class="el" href="class_error_function.html">ErrorFunction</a> &amp;errorfunction, const Array&lt; double &gt; &amp;input, const Array&lt; double &gt; &amp;target)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a run of the Rprop algorithm.  <a href="#af67f44cd73418c5e083fc57704341855"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a3d06196f1643594a51fcd200d34c85b4">maxDelta</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return the maximal step size component  <a href="#a3d06196f1643594a51fcd200d34c85b4"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#ac2f5e90f44dcde38d7741fc181c0c329">sgn</a> (double x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the sign of "x".  <a href="#ac2f5e90f44dcde38d7741fc181c0c329"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a7f75c126669a1cdc7d9dabd5a36890c2">np</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The increase factor <img class="formulaInl" alt="$ \eta^+ $" src="form_373.png"/>, set to 1.2 by default.  <a href="#a7f75c126669a1cdc7d9dabd5a36890c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#aa3d5461b5e259714eb4047a43bbab41a">nm</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The decrease factor <img class="formulaInl" alt="$ \eta^- $" src="form_374.png"/>, set to 0.5 by default.  <a href="#aa3d5461b5e259714eb4047a43bbab41a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#ae13994f7953a2f73ba90d917a15aa050">dMax</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The upper limit of the increments <img class="formulaInl" alt="$ \Delta w_i^{(t)} $" src="form_375.png"/>, set to 1e100 by default.  <a href="#ae13994f7953a2f73ba90d917a15aa050"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#ab074ccb618134311d21d66dc57360886">dMin</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The lower limit of the increments <img class="formulaInl" alt="$ \Delta w_i^{(t)} $" src="form_375.png"/>, set to 0.0 by default.  <a href="#ab074ccb618134311d21d66dc57360886"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#acb43fb80d82889f9c0f79e3d3741d836">oldError</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The error of the last iteration.  <a href="#acb43fb80d82889f9c0f79e3d3741d836"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Array&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a294cb9a2d93f702a504db472e4a9cda2">deltaw</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The final update values for all weights.  <a href="#a294cb9a2d93f702a504db472e4a9cda2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Array&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#ad902e2ab5fa33ccc607147171b451224">dedwOld</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The last error gradient.  <a href="#ad902e2ab5fa33ccc607147171b451224"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">Array&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_rprop_plus.html#a7b1ad0cf7fc487f6e0ac74b015ee240b">delta</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The absolute update values (increment) for all weights.  <a href="#a7b1ad0cf7fc487f6e0ac74b015ee240b"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class offers methods for the usage of the improved Resilient-Backpropagation-algorithm with weight-backtracking. </p>
<p>The Rprop algorithm is an improvement of the algorithms with adaptive learning rates (as the Adaptive Backpropagation algorithm by Silva and Ameida, please see <a class="el" href="_adp_b_p_8h.html" title="Offers the two versions of the gradient descent based optimization algorithm with individual adaptive...">AdpBP.h</a> for a description of the working of such an algorithm), that uses increments for the update of the weights, that are independant from the absolute partial derivatives. This makes sense, because large flat regions in the search space (plateaus) lead to small absolute partial derivatives and so the increments are chosen small, but the increments should be large to skip the plateau. In contrast, the absolute partial derivatives are very large at the "slopes" of very "narrow canyons", which leads to large increments that will skip the minimum lying at the bottom of the canyon, but it would make more sense to chose small increments to hit the minimum. <br/>
 So, the Rprop algorithm only uses the signs of the partial derivatives and not the absolute values to adapt the parameters. <br/>
 Instead of individual learning rates, it uses the parameter <img class="formulaInl" alt="$\Delta_i^{(t)}$" src="form_352.png"/> for weight <img class="formulaInl" alt="$w_i,\ i = 1, \dots, n$" src="form_109.png"/> in iteration <img class="formulaInl" alt="$t$" src="form_104.png"/>, where the parameter will be adapted before the change of the weights: <br/>
</p>
<p><img class="formulaInl" alt="$ \Delta_i^{(t)} = \Bigg\{ \begin{array}{ll} min( \eta^+ \cdot \Delta_i^{(t-1)}, \Delta_{max} ), &amp; \mbox{if\ } \frac{\partial E^{(t-1)}}{\partial w_i} \cdot \frac{\partial E^{(t)}}{\partial w_i} > 0 \\ max( \eta^- \cdot \Delta_i^{(t-1)}, \Delta_{min} ), &amp; \mbox{if\ } \frac{\partial E^{(t-1)}}{\partial w_i} \cdot \frac{\partial E^{(t)}}{\partial w_i} < 0 \\ \Delta_i^{(t-1)}, &amp; \mbox{otherwise} \end{array} $" src="form_353.png"/></p>
<p>The parameters <img class="formulaInl" alt="$\eta^+ > 1$" src="form_354.png"/> and <img class="formulaInl" alt="$0 < \eta^- < 1$" src="form_355.png"/> control the speed of the adaptation. To stabilize the increments, they are restricted to the interval <img class="formulaInl" alt="$[\Delta_{min}, \Delta_{max}]$" src="form_356.png"/>. <br/>
 After the adaptation of the <img class="formulaInl" alt="$\Delta_i$" src="form_357.png"/> the update for the weights will be calculated as</p>
<p><img class="formulaInl" alt="$ \Delta w_i^{(t)} := - \mbox{sign} \left( \frac{\partial E^{(t)}}{\partial w_i}\right) \cdot \Delta_i^{(t)} $" src="form_358.png"/></p>
<p>Furthermore, weight-backtracking will take place to increase the stability of the method. In contrast to the original Rprop algorithm with weight-backtracking (see <a class="el" href="class_rprop_plus.html" title="This class offers methods for the usage of the Resilient-Backpropagation-algorithm with weight-backtr...">RpropPlus</a>) this weight-backtracking is improved by additionally taken the error of the last iteration <img class="formulaInl" alt="$t - 1$" src="form_103.png"/> into account. <br/>
 The idea of this modification is, that a change of the sign of the partial derivation <img class="formulaInl" alt="$\frac{\partial E}{\partial w_i}$" src="form_102.png"/> only states, that a minimum was skipped and not, whether this step lead to an approach to the minimum or not. <br/>
 By using the old error value the improved weight-backtracking only undoes changes, when the error has increased and only the parameters <img class="formulaInl" alt="$w_i$" src="form_101.png"/> are reset to the old values, where a sign change of <img class="formulaInl" alt="$\frac{\partial E}{\partial w_i}$" src="form_102.png"/> has taken place. <br/>
 So the new weight-backtracking rule is: <br/>
</p>
<p><img class="formulaInl" alt="$ \mbox{if\ } \frac{\partial E^{(t-1)}}{\partial w_i} \cdot \frac{\partial E^{(t)}}{\partial w_i} < 0 \mbox{\ then} \{ $" src="form_361.png"/></p>
<p><img class="formulaInl" alt="$ \begin{array}{lll} \Delta w_i^{(t)} = \bigg\{ &amp; - \Delta w_i^{(t-1)}, &amp; \mbox{if\ } E^{(t)} > E^{(t - 1)} \\ &amp; 0, &amp; otherwise \\ \frac{\partial E^{(t)}}{\partial w_i} := 0 \end{array} $" src="form_362.png"/></p>
<p><img class="formulaInl" alt="$\}$" src="form_363.png"/></p>
<p>, where the assignment of zero to the partial derivative of the error leads to a freezing of the increment in the next iteration. <br/>
</p>
<p>This modification of the weight backtracking leads to a better optimization on artifical, paraboloidal error surfaces. <br/>
</p>
<p>For further information about the algorithm, please refer to: <br/>
</p>
<p>Christian Igel and Michael H&uuml;sken, <br/>
 "Empirical Evaluation of the Improved Rprop Learning Algorithm". <br/>
 In Neurocomputing Journal, 2002, in press <br/>
</p>
<dl class="author"><dt><b>Author:</b></dt><dd>C. Igel, M. H&uuml;sken </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>1999</dd></dl>
<dl class="user"><dt><b>Changes:</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Status:</b></dt><dd>stable </dd></dl>
<dl><dt><b>Examples: </b></dt><dd>
<p><a class="el" href="_kernel_optimization_8cpp-example.html#_a14">KernelOptimization.cpp</a>, <a class="el" href="simple_r_b_f_net_8cpp-example.html#_a2">simpleRBFNet.cpp</a>, and <a class="el" href="simple_r_n_net_8cpp-example.html#_a3">simpleRNNet.cpp</a>.</p>
</dd>
</dl>
<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00788">788</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a1200d6b247139bf76b20a9d49768d639"></a><!-- doxytag: member="IRpropPlus::init" ref="a1200d6b247139bf76b20a9d49768d639" args="(Model &amp;model)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRpropPlus::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the optimizer with default parameters. </p>
<p>Initializes the optimizer's parameters with the following defaults: </p>
<ul>
<li>
Increase factor <img class="formulaInl" alt="$\eta^+ = 1.2$" src="form_367.png"/> </li>
<li>
Decrease factor <img class="formulaInl" alt="$\eta^- = 0.5$" src="form_368.png"/> </li>
<li>
Upper increment limit = 1e100 </li>
<li>
Lower increment limit = 0.0 </li>
<li>
Initial value for <img class="formulaInl" alt="$\Delta = 0.01$" src="form_369.png"/> </li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td><a class="el" href="class_model.html" title="Base class of all models.">Model</a> to be optimized. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>C. Igel </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>1999</dd></dl>
<dl class="user"><dt><b>Changes</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Status</b></dt><dd>stable </dd></dl>

<p>Implements <a class="el" href="class_optimizer.html#ad73a3c6a773c3ea280c59ecaee228830">Optimizer</a>.</p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="simple_r_n_net_8cpp-example.html#a4">simpleRNNet.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00818">818</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>References <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>.</p>

<p>Referenced by <a class="el" href="_noisy_svm_likelihood_8cpp_source.html#l00080">NoisySvmLikelihood::error()</a>, and <a class="el" href="_noisy_svm_likelihood_8cpp_source.html#l00155">NoisySvmLikelihood::errorDerivative()</a>.</p>

</div>
</div>
<a class="anchor" id="ab73ddd30441e3e99ad335cacd56aa039"></a><!-- doxytag: member="IRpropPlus::initUserDefined" ref="ab73ddd30441e3e99ad335cacd56aa039" args="(Model &amp;model, double npP=1.2, double nmP=0.5, double dMaxP=1e100, double dMinP=0.0, double delta0P=0.01)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRpropPlus::initUserDefined </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>npP</em> = <code>1.2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>nmP</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dMaxP</em> = <code>1e100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dMinP</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>delta0P</em> = <code>0.01</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepares the Rprop algorithm for the given network. </p>
<p>Internal variables of the class instance are initialized and memory for used structures adapted to the used network. An initial value for the parameter <img class="formulaInl" alt="$\Delta$" src="form_365.png"/> is assigned to all weights of the network.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td><a class="el" href="class_model.html" title="Base class of all models.">Model</a> to be optimized. </td></tr>
    <tr><td class="paramname">npP</td><td>The increase factor <img class="formulaInl" alt="$\eta^+$" src="form_370.png"/>, set to 1.2 by default. </td></tr>
    <tr><td class="paramname">nmP</td><td>The decrease factor <img class="formulaInl" alt="$\eta^-$" src="form_371.png"/>, set to 0.5 by default. </td></tr>
    <tr><td class="paramname">dMaxP</td><td>The upper limit of the increments <img class="formulaInl" alt="$\Delta w_i^{(t)}$" src="form_372.png"/>, set to 1e100 by default. </td></tr>
    <tr><td class="paramname">dMinP</td><td>The lower limit of the increments <img class="formulaInl" alt="$\Delta w_i^{(t)}$" src="form_372.png"/>, set to 0.0 by default. </td></tr>
    <tr><td class="paramname">delta0P</td><td>Initial value for the parameter <img class="formulaInl" alt="$\Delta$" src="form_365.png"/>, set to 0.01 by default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>C. Igel </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>1999</dd></dl>
<dl class="user"><dt><b>Changes</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Status</b></dt><dd>stable </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="simple_r_b_f_net_8cpp-example.html#a10">simpleRBFNet.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00852">852</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>References <a class="el" href="_rprop_8h_source.html#l01030">dedwOld</a>, <a class="el" href="_rprop_8h_source.html#l01033">delta</a>, <a class="el" href="_rprop_8h_source.html#l01027">deltaw</a>, <a class="el" href="_rprop_8h_source.html#l01018">dMax</a>, <a class="el" href="_rprop_8h_source.html#l01021">dMin</a>, <a class="el" href="_model_8h_source.html#l00343">Model::getParameterDimension()</a>, <a class="el" href="_rprop_8h_source.html#l01015">nm</a>, <a class="el" href="_rprop_8h_source.html#l01012">np</a>, and <a class="el" href="_rprop_8h_source.html#l01024">oldError</a>.</p>

<p>Referenced by <a class="el" href="_svm_approximation_8cpp_source.html#l00440">SvmApproximation::addVecRprop()</a>, <a class="el" href="_mc_svm_approximation_8cpp_source.html#l00269">McSvmApproximation::addVecRprop()</a>, <a class="el" href="_svm_approximation_8cpp_source.html#l00371">SvmApproximation::gradientDescent()</a>, and <a class="el" href="_rprop_8h_source.html#l00818">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a31f8b715bac9df8f9cf5ee076c8a7250"></a><!-- doxytag: member="IRpropPlus::initUserDefined" ref="a31f8b715bac9df8f9cf5ee076c8a7250" args="(Model &amp;model, const Array&lt; double &gt; &amp;delta0P, double npP=1.2, double nmP=0.5, double dMaxP=1e100, double dMinP=0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IRpropPlus::initUserDefined </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>delta0P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>npP</em> = <code>1.2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>nmP</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dMaxP</em> = <code>1e100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dMinP</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rprop algorithm initialization. </p>
<dl class="user"><dt><b></b></dt><dd>This initialization allows for the definition of user defined initial step widths for each coordinate individually.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td><a class="el" href="class_model.html" title="Base class of all models.">Model</a> to be optimized. </td></tr>
    <tr><td class="paramname">delta0P</td><td>Initial values for the parameters <img class="formulaInl" alt="$\Delta$" src="form_365.png"/> </td></tr>
    <tr><td class="paramname">npP</td><td>The increase factor <img class="formulaInl" alt="$\eta^+$" src="form_370.png"/>, set to 1.2 by default. </td></tr>
    <tr><td class="paramname">nmP</td><td>The decrease factor <img class="formulaInl" alt="$\eta^-$" src="form_371.png"/>, set to 0.5 by default. </td></tr>
    <tr><td class="paramname">dMaxP</td><td>The upper limit of the increments <img class="formulaInl" alt="$\Delta w_i^{(t)}$" src="form_372.png"/>, set to 1e100 by default. </td></tr>
    <tr><td class="paramname">dMinP</td><td>The lower limit of the increments <img class="formulaInl" alt="$\Delta w_i^{(t)}$" src="form_372.png"/>, set to 0.0 by default. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>none</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>T. Glasmachers </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2006 </dd></dl>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00892">892</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>References <a class="el" href="_rprop_8h_source.html#l01030">dedwOld</a>, <a class="el" href="_rprop_8h_source.html#l01033">delta</a>, <a class="el" href="_rprop_8h_source.html#l01027">deltaw</a>, <a class="el" href="_rprop_8h_source.html#l01018">dMax</a>, <a class="el" href="_rprop_8h_source.html#l01021">dMin</a>, <a class="el" href="_model_8h_source.html#l00343">Model::getParameterDimension()</a>, <a class="el" href="_rprop_8h_source.html#l01015">nm</a>, <a class="el" href="_rprop_8h_source.html#l01012">np</a>, and <a class="el" href="_rprop_8h_source.html#l01024">oldError</a>.</p>

</div>
</div>
<a class="anchor" id="a3d06196f1643594a51fcd200d34c85b4"></a><!-- doxytag: member="IRpropPlus::maxDelta" ref="a3d06196f1643594a51fcd200d34c85b4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double IRpropPlus::maxDelta </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the maximal step size component </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00982">982</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>References <a class="el" href="_rprop_8h_source.html#l01033">delta</a>.</p>

</div>
</div>
<a class="anchor" id="af67f44cd73418c5e083fc57704341855"></a><!-- doxytag: member="IRpropPlus::optimize" ref="af67f44cd73418c5e083fc57704341855" args="(Model &amp;model, ErrorFunction &amp;errorfunction, const Array&lt; double &gt; &amp;input, const Array&lt; double &gt; &amp;target)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double IRpropPlus::optimize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_model.html">Model</a> &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_error_function.html">ErrorFunction</a> &amp;&#160;</td>
          <td class="paramname"><em>errorfunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Array&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Performs a run of the Rprop algorithm. </p>
<p>The error <img class="formulaInl" alt="$E^{(t)}$" src="form_108.png"/> of the used network for the current iteration <img class="formulaInl" alt="$t$" src="form_104.png"/> is calculated and the values of the weights <img class="formulaInl" alt="$w_i,\ i = 1, \dots, n$" src="form_109.png"/> and the parameters <img class="formulaInl" alt="$\Delta_i$" src="form_357.png"/> are adapted depending on this error.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td><a class="el" href="class_model.html" title="Base class of all models.">Model</a> to be optimized. </td></tr>
    <tr><td class="paramname">errorfunction</td><td>Error function to be used for the optimization. </td></tr>
    <tr><td class="paramname">input</td><td>Input vector for the model. </td></tr>
    <tr><td class="paramname">target</td><td>Corresponding targets to the given inputs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current error.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>C. Igel </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>1999</dd></dl>
<dl class="user"><dt><b>Changes</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Status</b></dt><dd>stable </dd></dl>

<p>Implements <a class="el" href="class_optimizer.html#a6a8170818afe45a5516c4a4fea053f0f">Optimizer</a>.</p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="simple_r_b_f_net_8cpp-example.html#a11">simpleRBFNet.cpp</a>, and <a class="el" href="simple_r_n_net_8cpp-example.html#a5">simpleRNNet.cpp</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="_rprop_8h_source.html#l00936">936</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>References <a class="el" href="_rprop_8h_source.html#l01030">dedwOld</a>, <a class="el" href="_rprop_8h_source.html#l01033">delta</a>, <a class="el" href="_rprop_8h_source.html#l01027">deltaw</a>, <a class="el" href="_rprop_8h_source.html#l01018">dMax</a>, <a class="el" href="_rprop_8h_source.html#l01021">dMin</a>, <a class="el" href="_error_function_8cpp_source.html#l00080">ErrorFunction::errorDerivative()</a>, <a class="el" href="_model_8cpp_source.html#l00114">Model::getParameter()</a>, <a class="el" href="_model_8h_source.html#l00343">Model::getParameterDimension()</a>, <a class="el" href="_b_f_g_s_8cpp_source.html#l00321">i</a>, <a class="el" href="_model_8cpp_source.html#l00109">Model::isFeasible()</a>, <a class="el" href="_rprop_8h_source.html#l01015">nm</a>, <a class="el" href="_rprop_8h_source.html#l01012">np</a>, <a class="el" href="_rprop_8h_source.html#l01024">oldError</a>, <a class="el" href="_model_8cpp_source.html#l00119">Model::setParameter()</a>, and <a class="el" href="_rprop_8h_source.html#l01006">sgn()</a>.</p>

<p>Referenced by <a class="el" href="_svm_approximation_8cpp_source.html#l00440">SvmApproximation::addVecRprop()</a>, <a class="el" href="_mc_svm_approximation_8cpp_source.html#l00269">McSvmApproximation::addVecRprop()</a>, <a class="el" href="_noisy_svm_likelihood_8cpp_source.html#l00080">NoisySvmLikelihood::error()</a>, <a class="el" href="_noisy_svm_likelihood_8cpp_source.html#l00155">NoisySvmLikelihood::errorDerivative()</a>, and <a class="el" href="_svm_approximation_8cpp_source.html#l00371">SvmApproximation::gradientDescent()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2f5e90f44dcde38d7741fc181c0c329"></a><!-- doxytag: member="IRpropPlus::sgn" ref="ac2f5e90f44dcde38d7741fc181c0c329" args="(double x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int IRpropPlus::sgn </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines the sign of "x". </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>The value of which the sign shall be determined. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>"-1", if the sign of <em>x</em> is negative, "0" otherwise.</dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>C. Igel </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>1999</dd></dl>
<dl class="user"><dt><b>Changes</b></dt><dd>none</dd></dl>
<dl class="user"><dt><b>Status</b></dt><dd>stable </dd></dl>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01006">1006</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ad902e2ab5fa33ccc607147171b451224"></a><!-- doxytag: member="IRpropPlus::dedwOld" ref="ad902e2ab5fa33ccc607147171b451224" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="class_i_rprop_plus.html#ad902e2ab5fa33ccc607147171b451224">IRpropPlus::dedwOld</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The last error gradient. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01030">1030</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a7b1ad0cf7fc487f6e0ac74b015ee240b"></a><!-- doxytag: member="IRpropPlus::delta" ref="a7b1ad0cf7fc487f6e0ac74b015ee240b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="class_i_rprop_plus.html#a7b1ad0cf7fc487f6e0ac74b015ee240b">IRpropPlus::delta</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The absolute update values (increment) for all weights. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01033">1033</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, <a class="el" href="_rprop_8h_source.html#l00982">maxDelta()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a294cb9a2d93f702a504db472e4a9cda2"></a><!-- doxytag: member="IRpropPlus::deltaw" ref="a294cb9a2d93f702a504db472e4a9cda2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;double&gt; <a class="el" href="class_i_rprop_plus.html#a294cb9a2d93f702a504db472e4a9cda2">IRpropPlus::deltaw</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The final update values for all weights. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01027">1027</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="ae13994f7953a2f73ba90d917a15aa050"></a><!-- doxytag: member="IRpropPlus::dMax" ref="ae13994f7953a2f73ba90d917a15aa050" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_i_rprop_plus.html#ae13994f7953a2f73ba90d917a15aa050">IRpropPlus::dMax</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The upper limit of the increments <img class="formulaInl" alt="$ \Delta w_i^{(t)} $" src="form_375.png"/>, set to 1e100 by default. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01018">1018</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="ab074ccb618134311d21d66dc57360886"></a><!-- doxytag: member="IRpropPlus::dMin" ref="ab074ccb618134311d21d66dc57360886" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_i_rprop_plus.html#ab074ccb618134311d21d66dc57360886">IRpropPlus::dMin</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The lower limit of the increments <img class="formulaInl" alt="$ \Delta w_i^{(t)} $" src="form_375.png"/>, set to 0.0 by default. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01021">1021</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="aa3d5461b5e259714eb4047a43bbab41a"></a><!-- doxytag: member="IRpropPlus::nm" ref="aa3d5461b5e259714eb4047a43bbab41a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_i_rprop_plus.html#aa3d5461b5e259714eb4047a43bbab41a">IRpropPlus::nm</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The decrease factor <img class="formulaInl" alt="$ \eta^- $" src="form_374.png"/>, set to 0.5 by default. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01015">1015</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f75c126669a1cdc7d9dabd5a36890c2"></a><!-- doxytag: member="IRpropPlus::np" ref="a7f75c126669a1cdc7d9dabd5a36890c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_i_rprop_plus.html#a7f75c126669a1cdc7d9dabd5a36890c2">IRpropPlus::np</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The increase factor <img class="formulaInl" alt="$ \eta^+ $" src="form_373.png"/>, set to 1.2 by default. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01012">1012</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<a class="anchor" id="acb43fb80d82889f9c0f79e3d3741d836"></a><!-- doxytag: member="IRpropPlus::oldError" ref="acb43fb80d82889f9c0f79e3d3741d836" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_i_rprop_plus.html#acb43fb80d82889f9c0f79e3d3741d836">IRpropPlus::oldError</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The error of the last iteration. </p>

<p>Definition at line <a class="el" href="_rprop_8h_source.html#l01024">1024</a> of file <a class="el" href="_rprop_8h_source.html">Rprop.h</a>.</p>

<p>Referenced by <a class="el" href="_rprop_8h_source.html#l00852">initUserDefined()</a>, and <a class="el" href="_rprop_8h_source.html#l00936">optimize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_rprop_8h_source.html">Rprop.h</a></li>
</ul>
</div>
</div>
</div>
</body></html>
