<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ReClaM: QpEbCsDecomp.h Source File</title>
<script type="text/javaScript" src="search/search.js"></script>
<link href="../css/main.css" rel="stylesheet" type="text/css"/>
</head>
<body id="type-b">

<div id="wrap">
<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
<div id="poweredby">
<img style="width: 95%;" src="../images/SharkLogo.png"/>
</div>		
  
<ul id="nav">
  <li class="first"><a href="../index.html">About Shark</a></li>
  <li><a href="#">Sourceforge</a>
  
  <ul>
    <li class="first"><a href="http://shark-project.sourceforge.net">Project Summary</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/files/">Downloads</a></li>
    <li><a href="http://sourceforge.net/projects/shark-project/develop">Subversion Repository</a></li>
  </ul>
  
</li>
<li class="first"><a href="../GettingStarted.html">Getting Started</a>
<li class="first"><a href="../Tutorials.html">Tutorials</a>
<li class="first"><a href="../FAQ.html">FAQ</a>

<li class="first"><a href="#">Main Modules</a>
<ul>
  <li class="first"><a href="../ReClaM/index.html">ReClaM</a>
  <li class="first"><a href="../EALib/index.html">EALib</a>
  <li class="first"><a href="../MOO-EALib/index.html">MOO-EALib</a>
  <li class="first"><a href="../Fuzzy/index.html">Fuzzy</a>
</ul>
</li>
<li class="first"><a href="#">Tools</a>
<ul>
  <li class="first"><a href="../Mixture/index.html">Mixture</a>
  <li><a href="../Array/index.html">Array</a>
  <li><a href="../Rng/index.html">Rng</a>
  <li><a href="../LinAlg/index.html">LinAlg</a>
  <li class="last"><a href="../FileUtil/index.html">FileUtil</a>		    
</ul>
</li>
</ul>
</div>

<!--<div id="header">
<div id="site-name">Shark Machine Learning Library</div>
  <ul id="nav">
    <li><a href="../index.html"><span>Shark&nbsp;Main&nbsp;Page</span></a></li>
    <li><a href="../Array/index.html"><span>Array</span></a></li>
    <li><a href="../Rng/index.html"><span>Rng</span></a></li>
    <li><a href="../LinAlg/index.html"><span>LinAlg</span></a></li>
    <li><a href="../FileUtil/index.html"><span>FileUtil</span></a></li>
    <li><a href="../EALib/index.html"><span>EALib</span></a></li>
    <li><a href="../MOO-EALib/index.html"><span>MOO-EALib</span></a></li>
    <li class="active"><a href="../ReClaM/index.html"><span>ReClaM</span></a></li>
    <li><a href="../Fuzzy/index.html"><span>Fuzzy</span></a></li>
    <li><a href="../Mixture/index.html"><span>Mixture</span></a></li>
    <li><a href="../tutorials/index.html"><span>Tutorials</span></a></li>
    <li><a href="../faq/index.html"><span>FAQ</span></a></li>
  </ul>
 </div> -->
<!-- Generated by Doxygen 1.7.3 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>QpEbCsDecomp.h</h1>  </div>
</div>
<div class="contents">
<a href="_qp_eb_cs_decomp_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//===========================================================================</span>
<a name="l00038"></a>00038 <span class="comment"></span><span class="comment">//===========================================================================</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="preprocessor">#ifndef _QpEbCsDecomp_H_</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span><span class="preprocessor">#define _QpEbCsDecomp_H_</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;ReClaM/Utilities.h&gt;</span>
<a name="l00044"></a>00044 <span class="comment">//#include &lt;tr1/unordered_set&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;set&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">// even if the stopping criterion is the duality gap, terminate after how many epochs?</span>
<a name="l00048"></a><a class="code" href="_qp_eb_cs_decomp_8h.html#a766d98cca48d8851da346b920bb244a0">00048</a> <span class="preprocessor">#define MAX_EPOCHS_HARD_BOUNDARY 5 </span>
<a name="l00049"></a>00049 <span class="preprocessor"></span>
<a name="l00050"></a>00050 <span class="preprocessor">#if 0 //mt_count_kernel_lookups</span>
<a name="l00051"></a>00051 <span class="preprocessor"></span><span class="preprocessor">    #define MT_COUNT_KERNEL_LOOKUPS( mt_token ) { mt_token }</span>
<a name="l00052"></a>00052 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00053"></a><a class="code" href="_qp_eb_cs_decomp_8h.html#ac7f69eb35a827b4a533981f79150e021">00053</a> <span class="preprocessor"></span><span class="preprocessor">    #define MT_COUNT_KERNEL_LOOKUPS( mt_token ) {  }</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00055"></a>00055 <span class="preprocessor"></span>
<a name="l00078"></a><a class="code" href="class_qp_eb_cs_decomp.html">00078</a> <span class="keyword">class </span><a class="code" href="class_qp_eb_cs_decomp.html" title="Epoch-based quadratic program approximator for Crammer-Singer type multi-class machines.">QpEbCsDecomp</a> : <span class="keyword">public</span> <a class="code" href="class_q_p_solver.html" title="Abstract base class of all quadratic program solvers.">QPSolver</a>
<a name="l00079"></a>00079 {
<a name="l00080"></a>00080 <span class="keyword">public</span>:
<a name="l00081"></a>00081     
<a name="l00089"></a>00089     <a class="code" href="class_qp_eb_cs_decomp.html#ae951ae657b1e508fe68acf303e7aa7bc" title="Constructor.">QpEbCsDecomp</a>(<a class="code" href="class_cached_matrix.html" title="Efficient quadratic matrix cache.">CachedMatrix</a>&amp; kernel, <span class="keyword">const</span> Array&lt;double&gt;&amp; y, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> classes, 
<a name="l00090"></a>00090                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w = 0, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r = 0, <a class="code" href="class_svm_states_collection.html" title="Utility class for storing snapshots of SVM states.">SvmStatesCollection</a> * states = NULL );
<a name="l00091"></a>00091     
<a name="l00093"></a>00093     <a class="code" href="class_qp_eb_cs_decomp.html#aaf6bf101277a2b9099263d847233ff53" title="Destructor.">~QpEbCsDecomp</a>();
<a name="l00094"></a>00094     
<a name="l00099"></a>00099     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a505b5ad6e6abac5b51b60508031458fb" title="set the stopping conditions for the solver.">setStoppingConditions</a>(<span class="keywordtype">double</span> a, <span class="keywordtype">int</span> e = 1, <span class="keywordtype">double</span> d = -1.0);
<a name="l00100"></a>00100     
<a name="l00108"></a>00108     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a1145022da7d30780f4a99c6ac0c0636c" title="solve the quadratic program.">Solve</a>(Array&lt;double&gt;&amp; solutionVector, <span class="keywordtype">double</span> regC);
<a name="l00109"></a>00109     
<a name="l00111"></a><a class="code" href="class_qp_eb_cs_decomp.html#aefdad21c21803157415ec9de092c1c83">00111</a>     <span class="keyword">inline</span> <span class="keywordtype">long</span> <a class="code" href="class_qp_eb_cs_decomp.html#aefdad21c21803157415ec9de092c1c83" title="get number of kernel evaluations">getKernelEvals</a>()
<a name="l00112"></a>00112     {
<a name="l00113"></a>00113         <span class="keywordflow">return</span> <a class="code" href="class_qp_eb_cs_decomp.html#ae21cef0fade73cb9645ffd835eb71dc0" title="quadratic part, kernel matrix cache">kernelMatrix</a>.<a class="code" href="class_cached_matrix.html#a93314736a89db78c206a5391df17f260" title="get number of kernel evaluations">getBaseMatrixKernelEvals</a>();
<a name="l00114"></a>00114     }
<a name="l00115"></a>00115     
<a name="l00117"></a><a class="code" href="class_qp_eb_cs_decomp.html#a08e37a3526ca11f0e33c3c0ce234cc87">00117</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a08e37a3526ca11f0e33c3c0ce234cc87" title="set kernel evaluation counter to zero">resetKernelEvals</a>()
<a name="l00118"></a>00118     {
<a name="l00119"></a>00119         <a class="code" href="class_qp_eb_cs_decomp.html#ae21cef0fade73cb9645ffd835eb71dc0" title="quadratic part, kernel matrix cache">kernelMatrix</a>.<a class="code" href="class_cached_matrix.html#a5f38c95fcd84770431e62c05b1efa4b8" title="set kernel evaluation counter to zero">resetBaseMatrixKernelEvals</a>();
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121     
<a name="l00123"></a><a class="code" href="class_qp_eb_cs_decomp.html#a929119ab9fc6020eb2176680ca7c98f3">00123</a>     <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a929119ab9fc6020eb2176680ca7c98f3" title="set verbosity mode. 0=quiet, 1=python-compatible arrays (one row per epoch)">setVerbose</a>(<span class="keywordtype">bool</span> verbose = <span class="keyword">false</span>)
<a name="l00124"></a>00124     {
<a name="l00125"></a>00125         <a class="code" href="class_qp_eb_cs_decomp.html#a9d95b3a3ad628bcd53d62833eba7c15a" title="envelope for variables about the current state of the solver">introsp</a>.<a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#ae9cc78afec4b9a28f76d3a1fd8438a4e">verbosity</a> = verbose;
<a name="l00126"></a>00126     }
<a name="l00127"></a>00127     
<a name="l00128"></a>00128 <span class="keyword">protected</span>:
<a name="l00129"></a>00129     
<a name="l00130"></a>00130 <span class="comment">// PARTIES TO THE QP EQUATION</span>
<a name="l00131"></a>00131 
<a name="l00133"></a><a class="code" href="class_qp_eb_cs_decomp.html#adf29671f707a0e2d68ace9d155ef22fc">00133</a>     Array&lt;double&gt; <a class="code" href="class_qp_eb_cs_decomp.html#adf29671f707a0e2d68ace9d155ef22fc" title="solution candidate">alpha</a>;
<a name="l00134"></a>00134     
<a name="l00136"></a><a class="code" href="class_qp_eb_cs_decomp.html#a0e7773173a743416906d275923b219ff">00136</a>     Array&lt;double&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a0e7773173a743416906d275923b219ff" title="box constraint upper bound, that is, maximal variable value.">boxMax</a>;
<a name="l00137"></a>00137     
<a name="l00139"></a><a class="code" href="class_qp_eb_cs_decomp.html#ae21cef0fade73cb9645ffd835eb71dc0">00139</a>     <a class="code" href="class_cached_matrix.html" title="Efficient quadratic matrix cache.">CachedMatrix</a>&amp; <a class="code" href="class_qp_eb_cs_decomp.html#ae21cef0fade73cb9645ffd835eb71dc0" title="quadratic part, kernel matrix cache">kernelMatrix</a>;
<a name="l00140"></a>00140     
<a name="l00141"></a>00141 <span class="comment">// ADDITIONAL ARRAYS</span>
<a name="l00142"></a>00142     
<a name="l00144"></a><a class="code" href="class_qp_eb_cs_decomp.html#a6baad43ed334e453fd98e0cb68a0111f">00144</a>     Array&lt;unsigned int&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a6baad43ed334e453fd98e0cb68a0111f" title="for each example, store the class label (between 0 and classes-1)">label</a>;
<a name="l00145"></a>00145     
<a name="l00147"></a><a class="code" href="class_qp_eb_cs_decomp.html#a34bb724795cb988e84eb6e23a6768dcc">00147</a>     Array&lt;double&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a34bb724795cb988e84eb6e23a6768dcc" title="diagonal matrix entries">diagonal</a>;
<a name="l00148"></a>00148     
<a name="l00150"></a><a class="code" href="class_qp_eb_cs_decomp.html#ab30805cc0287c9b71a99e776ada2e5c4">00150</a>     Array&lt;double&gt; <a class="code" href="class_qp_eb_cs_decomp.html#ab30805cc0287c9b71a99e776ada2e5c4" title="gradient">gradient</a>;
<a name="l00151"></a>00151     
<a name="l00153"></a><a class="code" href="class_qp_eb_cs_decomp.html#a62aaba1eb0e1c23a9de6c01c7c68300e">00153</a>     Array&lt;unsigned int&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a62aaba1eb0e1c23a9de6c01c7c68300e" title="i-th element gives the original index of the current i-th sample">origIndex</a>;
<a name="l00154"></a>00154     
<a name="l00156"></a><a class="code" href="class_qp_eb_cs_decomp.html#a7b0fb261e3bf0fcc46de1c86ce6384cd">00156</a>     Array&lt;unsigned int&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a7b0fb261e3bf0fcc46de1c86ce6384cd" title="i-th element gives the current index of the originally i-th sample">curIndex</a>; <span class="comment">//introduced b/c shuffling would be cumbersome otherwise</span>
<a name="l00157"></a>00157     
<a name="l00159"></a><a class="code" href="class_qp_eb_cs_decomp.html#ab1f15576a09ae5f8e43f2d2f567fc546">00159</a>     Array&lt;unsigned int&gt; <a class="code" href="class_qp_eb_cs_decomp.html#ab1f15576a09ae5f8e43f2d2f567fc546" title="In each epoch, pre-define how to traverse through the samples.">lottery</a>;
<a name="l00160"></a>00160 
<a name="l00162"></a>00162     <span class="comment">// WHEN DOING BOOST CONVERSION: CONVERT ALL CALLS TO .erase() TO quick_erase()</span>
<a name="l00163"></a>00163     <span class="comment">// OR erase_return_void() BECAUSE OF POTENTIAL WORST-CASE COMPLEXITY BUG AT</span>
<a name="l00164"></a>00164     <span class="comment">// https://svn.boost.org/trac/boost/ticket/3966</span>
<a name="l00165"></a>00165 <span class="comment">//  typedef std::tr1::unordered_set&lt;unsigned int&gt; tActiveClasses;</span>
<a name="l00166"></a><a class="code" href="class_qp_eb_cs_decomp.html#a14130830228180624e99db82f5af10e7">00166</a>     <span class="keyword">typedef</span> std::set&lt;unsigned int&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a14130830228180624e99db82f5af10e7" title="Typedef for convenience.">tActiveClasses</a>;
<a name="l00167"></a>00167 
<a name="l00170"></a><a class="code" href="class_qp_eb_cs_decomp.html#aec7ef2c9473d7032ebc6896f319c6d46">00170</a>     Array&lt;tActiveClasses&gt; <a class="code" href="class_qp_eb_cs_decomp.html#aec7ef2c9473d7032ebc6896f319c6d46" title="For each pattern, maintain a set of the corresponding support vectors.">ninaClasses</a>; <span class="comment">//not-inactive classes, i.e., active SPs and untouched non-SCs</span>
<a name="l00171"></a>00171 
<a name="l00172"></a><a class="code" href="class_qp_eb_cs_decomp.html#a957fed5e44417135c0acde0a60bd1bf6">00172</a>     Array&lt;tActiveClasses&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a957fed5e44417135c0acde0a60bd1bf6">asClasses</a>; <span class="comment">//active SCs</span>
<a name="l00173"></a>00173         
<a name="l00177"></a>00177     <span class="comment">// in practice this means that the standard access pattern will be redundant,</span>
<a name="l00178"></a>00178     <span class="comment">// like this: activeGlobalSCs(j).doSomething(someSampleIndex*cardi.classes + j)</span>
<a name="l00179"></a><a class="code" href="class_qp_eb_cs_decomp.html#a0afde9dccb84851ecc41000c0d9cbc0f">00179</a>     Array&lt;tActiveClasses&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a0afde9dccb84851ecc41000c0d9cbc0f" title="For each class, maintain a set of the corresponding support patterns.">activeGlobalSCs</a>;
<a name="l00180"></a>00180     
<a name="l00181"></a>00181     <span class="comment">// same principle, but only used for computing new gradients,</span>
<a name="l00182"></a>00182     <span class="comment">// which also need the contributions from the inactive samples. </span>
<a name="l00183"></a><a class="code" href="class_qp_eb_cs_decomp.html#a2609d1eaf1688a1de5650058913d03e6">00183</a>     Array&lt;tActiveClasses&gt; <a class="code" href="class_qp_eb_cs_decomp.html#a2609d1eaf1688a1de5650058913d03e6">dormantGlobalSCs</a>;
<a name="l00184"></a>00184     
<a name="l00185"></a>00185 <span class="comment">//ENVELOPES FOR STATE/STRATEGY/TMP VARIABLES, ETC</span>
<a name="l00186"></a>00186 
<a name="l00188"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3">00188</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3" title="List of possible configurations that can occur when flipping two examples.">eFlipVariants</a>
<a name="l00189"></a>00189     {
<a name="l00190"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a680ec561307dbb22628cd50cde1142db">00190</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a680ec561307dbb22628cd50cde1142db">fDeactivate</a>,
<a name="l00191"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a9b5edbee0697ad1a00a307020f764e47">00191</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a9b5edbee0697ad1a00a307020f764e47">fRemove_first</a>,
<a name="l00192"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a36c35344eb9bf54512b736ac575d08fe">00192</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a36c35344eb9bf54512b736ac575d08fe">fRemove_second</a>,
<a name="l00193"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3ad080f8e8c6e3aa57ea1a0811fe473868">00193</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3ad080f8e8c6e3aa57ea1a0811fe473868">fInsert_first</a>,
<a name="l00194"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a248aa2a2fb54cb6bb8f985ce4a33f3c0">00194</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3a248aa2a2fb54cb6bb8f985ce4a33f3c0">fInsert_second</a>
<a name="l00195"></a>00195     };
<a name="l00196"></a>00196 
<a name="l00198"></a><a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76">00198</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76" title="List of variants of the WSS algorithm, i.e., among which set of samples is MVP-WSS carried out...">eWsVariants</a>
<a name="l00199"></a>00199     {
<a name="l00200"></a><a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76a17f9eb64d47d96ca73bcc2dd0bced60c">00200</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76a17f9eb64d47d96ca73bcc2dd0bced60c">wRandom</a>,        <span class="comment">//wss only within the selected (random old) sample</span>
<a name="l00201"></a><a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76adbea98f961958d1229ea89bdcc5fee57">00201</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76adbea98f961958d1229ea89bdcc5fee57">wClassInversion</a>, <span class="comment">//use maxClippedGain between both updated and one random class during SMO gradient-update</span>
<a name="l00202"></a><a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76ab6066680bb2182e2897be560b5c39e9e">00202</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76ab6066680bb2182e2897be560b5c39e9e">wSS_MAX</a>     <span class="comment">//counter</span>
<a name="l00203"></a>00203     };
<a name="l00204"></a>00204     
<a name="l00206"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5">00206</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5" title="List of possible actions for the next processing step.">eNextProc</a>
<a name="l00207"></a>00207     {
<a name="l00208"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a93a6273b1a8403e6c7fa8818e7e1d802">00208</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a93a6273b1a8403e6c7fa8818e7e1d802">nNew</a>,   <span class="comment">//process a new (non-support pattern) example</span>
<a name="l00209"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a4c60bcdf45a35df21fc9d2652077e16c">00209</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a4c60bcdf45a35df21fc9d2652077e16c">nOld</a>,   <span class="comment">//process a known support pattern, consider all classes for WSS</span>
<a name="l00210"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a1b97a887d3ad6a9f38fc3e054da24a17">00210</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5a1b97a887d3ad6a9f38fc3e054da24a17">nOpt</a>,   <span class="comment">//process a known support pattern, only consider SCs for WSS</span>
<a name="l00211"></a><a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">00211</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">nMAX</a>    <span class="comment">//counter</span>
<a name="l00212"></a>00212     };
<a name="l00213"></a>00213 
<a name="l00215"></a><a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1">00215</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1" title="List of possible rules how many and which reprocess steps (nOld or nOpt) to be done after one nNew...">eReprocessRules</a>
<a name="l00216"></a>00216     {
<a name="l00217"></a><a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1a315a36804428dd8348de59cca573baef">00217</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1a315a36804428dd8348de59cca573baef">rOrig</a>,      <span class="comment">//(nNew,nOld,nOpt) = (1,b,10*c), b and c evolving on-line and according to last gain rate</span>
<a name="l00218"></a><a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1aabb8ffcaa34d27bccceb93cd72e60e89">00218</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1aabb8ffcaa34d27bccceb93cd72e60e89">rMAX</a>        <span class="comment">//counter</span>
<a name="l00219"></a>00219     };
<a name="l00220"></a>00220     
<a name="l00222"></a><a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aa">00222</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aa" title="List of possible shrinking modes.">eShrinkingModes</a>
<a name="l00223"></a>00223     {
<a name="l00224"></a><a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaafdd99a3e818c6475c8f2740993bc295b">00224</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaafdd99a3e818c6475c8f2740993bc295b">sNever</a>,  <span class="comment">//do not use shrinking</span>
<a name="l00225"></a><a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaa979c9669681071be507d9e780206b34f">00225</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaa979c9669681071be507d9e780206b34f">sBook</a>,    <span class="comment">//shrink by the book, i.e., don&#39;t deactivate samples with active non-SCs</span>
<a name="l00226"></a><a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaa9a5c142270152c4e28c8d6f0e54b0dfa">00226</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aaa9a5c142270152c4e28c8d6f0e54b0dfa">sAgressive</a>  <span class="comment">//agressive sample-deactivation, i.e., deactivate samples with active non-SCs</span>
<a name="l00227"></a>00227     };
<a name="l00228"></a>00228     
<a name="l00230"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html">00230</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html" title="envelope for current overall strategy">sStrategy</a>
<a name="l00231"></a>00231     {
<a name="l00232"></a>00232         <span class="comment">//FIXED throughout entire optimization run:</span>
<a name="l00233"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a6fac95732a5d4af771498b2914865d08">00233</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a6fac95732a5d4af771498b2914865d08">creg</a>;                <span class="comment">//the regularization parameter C</span>
<a name="l00234"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#adbb5b916776cdcccffb0f56efde553d7">00234</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a001928e55beea4a873734e92c89cea76" title="List of variants of the WSS algorithm, i.e., among which set of samples is MVP-WSS carried out...">eWsVariants</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#adbb5b916776cdcccffb0f56efde553d7">wss</a>;            <span class="comment">//specifies the variant of the WSS strategy</span>
<a name="l00235"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#adbca80b5559974b69bcdfc0c0ac4ec1d">00235</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a5cc0b0603d694256492f731f7e7fe3aa" title="List of possible shrinking modes.">eShrinkingModes</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#adbca80b5559974b69bcdfc0c0ac4ec1d">shrinkMode</a>; <span class="comment">//0: never, 1: by the book, 2: more agressive sample-deactivation</span>
<a name="l00236"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#add9a01a68425e6fd42a42972768f5e25">00236</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#add9a01a68425e6fd42a42972768f5e25">shrinkCritFraction</a>;  <span class="comment">//deactivate a variable if gVar &gt; gLargestFeasibleUp * shrinkCritFraction</span>
<a name="l00237"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a13f081340b6ff18d7146c50dbf5d3440">00237</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a13f081340b6ff18d7146c50dbf5d3440">shrinkEqualFraction</a>; <span class="comment">//deactivate an example if |gVar - gFirst| &lt; |gFirst| * shrinkEqFraction</span>
<a name="l00238"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae6fb2f952d001d9c12d18b209c5c118a">00238</a>         <span class="keywordtype">bool</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae6fb2f952d001d9c12d18b209c5c118a">useClippedAsWitness</a>;   <span class="comment">//use clipped or normal gain in wClassInv</span>
<a name="l00239"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#afdd06d5923f43547f3eef04a7d4a77ee">00239</a>         <span class="keywordtype">bool</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#afdd06d5923f43547f3eef04a7d4a77ee">useClippedInReproc</a>;    <span class="comment">//use clipped or normal gain in reproc</span>
<a name="l00240"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a35427576b90b9d788f8173bde6aef40f">00240</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a2552c345332206dac71017d88ba67eb1" title="List of possible rules how many and which reprocess steps (nOld or nOpt) to be done after one nNew...">eReprocessRules</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a35427576b90b9d788f8173bde6aef40f">reRu</a>;       <span class="comment">//how many and which reprocess steps to do after having processed a new sample</span>
<a name="l00241"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ac010f96c28fc99ce596fd57a51dac29a">00241</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ac010f96c28fc99ce596fd57a51dac29a">numMultipl</a>[<a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">nMAX</a>]; <span class="comment">//how many successful iterations of itself should each processing step strive for</span>
<a name="l00242"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a3ff623f43056f04595357b0a380a55a5">00242</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a3ff623f43056f04595357b0a380a55a5">tryMultipl</a>[<a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">nMAX</a>]; <span class="comment">//how many times is it allowed to try to reach numMultipl successful smo-steps</span>
<a name="l00243"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae1a77a63cc8c4a896814a3c09080ee08">00243</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae1a77a63cc8c4a896814a3c09080ee08">probAdaptationRate</a>;  <span class="comment">//adaptation rate for probabilites of processing steps (mu in original paper)  //rOrig only</span>
<a name="l00244"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae839fc78e96d45aba09ebbbd250df2c9">00244</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#ae839fc78e96d45aba09ebbbd250df2c9">guaranteeFraction</a>;   <span class="comment">//probability[i] won&#39;t sink below this fraction of probSum (eta in original paper)  //rOrig only</span>
<a name="l00245"></a>00245         <span class="comment">//VARIABLE:</span>
<a name="l00246"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a70fe2dce69ace8259a77eb50225692b6">00246</a>         <a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5" title="List of possible actions for the next processing step.">eNextProc</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a70fe2dce69ace8259a77eb50225692b6">proc</a>;             <span class="comment">//next processing step</span>
<a name="l00247"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a71adfffb27fe11ac1682b0aaf7c0587a">00247</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a71adfffb27fe11ac1682b0aaf7c0587a">probability</a>[<a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">nMAX</a>];   <span class="comment">//relative probabilities for next processing step //rOrig only</span>
<a name="l00248"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#aebaeff71e6eb1dce1c4c8190b8a17d7d">00248</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#aebaeff71e6eb1dce1c4c8190b8a17d7d">probSum</a>;             <span class="comment">//for convenience: sum over tStrategy.probability //rOrig only</span>
<a name="l00249"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a703271dda6947e97c71d19728af3054f">00249</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a703271dda6947e97c71d19728af3054f">nextPat</a>;       <span class="comment">//next pattern to work on</span>
<a name="l00250"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a50e8e28388c0bf9e59584a54a87d3531">00250</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a50e8e28388c0bf9e59584a54a87d3531">nextI</a>;         <span class="comment">//next variable to work on, to increase</span>
<a name="l00251"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a9f471a43753f81d10a101228d23ef642">00251</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#a9f471a43753f81d10a101228d23ef642">nextJ</a>;         <span class="comment">//next variable to work on, to decrease</span>
<a name="l00252"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#aeddf9c4ef49cf4b86c556f6cbfaff0ef">00252</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html#aeddf9c4ef49cf4b86c556f6cbfaff0ef">thirdClass</a>;    <span class="comment">//for the wClassInversion wss, a random third class not equal to nextI, nextJ</span>
<a name="l00253"></a>00253     };
<a name="l00254"></a>00254     
<a name="l00256"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html">00256</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html" title="envelope for convenience cardinalities of important sets">sCardinalities</a>
<a name="l00257"></a>00257     {
<a name="l00258"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ad8e076f808b55559a40e4ac49057e188">00258</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ad8e076f808b55559a40e4ac49057e188">examples</a>;      <span class="comment">//number of examples in the problem (size of the kernel matrix)</span>
<a name="l00259"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ad5eea6ed54693dc7621f507c6a6b5b98">00259</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ad5eea6ed54693dc7621f507c6a6b5b98">classes</a>;       <span class="comment">//number of classes in the problem</span>
<a name="l00260"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ae69b45aee527742cb9f1d130bc521e86">00260</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ae69b45aee527742cb9f1d130bc521e86">variables</a>;     <span class="comment">//number of variables in the problem = examples times classes</span>
<a name="l00261"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ace49c93b6b0730aa923b98180ed5b2d3">00261</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ace49c93b6b0730aa923b98180ed5b2d3">activePatterns</a>; <span class="comment">//current number of active (i.e., unshrinked) patterns</span>
<a name="l00262"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ae79458ceef2520a6e72a8d36ca2ba059">00262</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ae79458ceef2520a6e72a8d36ca2ba059">sPatterns</a>;     <span class="comment">//current number of support patterns</span>
<a name="l00263"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#a534f34a139274f0f77fabb3d053bc05f">00263</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#a534f34a139274f0f77fabb3d053bc05f">seenEx</a>;        <span class="comment">//index into lottery (how many samples seen in this epoch)</span>
<a name="l00264"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#a648f92c368b326bef4995a6aa48fed7a">00264</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#a648f92c368b326bef4995a6aa48fed7a">epochs</a>;        <span class="comment">//number of epochs undertaken</span>
<a name="l00265"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ab85fa29a0a91c98b3bb9244ddcd1cada">00265</a>         <span class="keywordtype">long</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html#ab85fa29a0a91c98b3bb9244ddcd1cada">planned_steps</a>[<a class="code" href="class_qp_eb_cs_decomp.html#a4a93b745ba68f4d291fb2fffa809b8a5ab2cd4afd6c64a9c89b852d5d8a1f9fb2">nMAX</a>]; <span class="comment">//number of processing steps planned for each processing type</span>
<a name="l00266"></a>00266     };
<a name="l00267"></a>00267     
<a name="l00269"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html">00269</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html" title="envelope for variables about the current state of the solver">sIntrospection</a>
<a name="l00270"></a>00270     {
<a name="l00271"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a079db2c24ca7da21dd5dc694cf85cb1e">00271</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a079db2c24ca7da21dd5dc694cf85cb1e">dual</a>;            <span class="comment">//current value of the dual</span>
<a name="l00272"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#aff9acb6335feb1a3b6a6e4717dd14590">00272</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#aff9acb6335feb1a3b6a6e4717dd14590">primal</a>;          <span class="comment">//value of the primal, needs a call to calcPrimal()</span>
<a name="l00273"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a41c4d6f5106b44d627da36e07be69688">00273</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a41c4d6f5106b44d627da36e07be69688">curGain</a>;         <span class="comment">//how useful the last processing step was</span>
<a name="l00274"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a69c1c016249c84975765f9d401ac9415">00274</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a69c1c016249c84975765f9d401ac9415">curGainRate</a>;     <span class="comment">//dito, but normalized to the time elapsed</span>
<a name="l00275"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a23d7436e4f4c33e9ca0b813b0391b619">00275</a>         <a class="code" href="classs_wall_timer.html" title="Convenience structure for wall-clock time keeping, platform-specific.">sWallTimer</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#a23d7436e4f4c33e9ca0b813b0391b619">rolex</a>;           <span class="comment">//for keeping track of dual gain per processing time unit</span>
<a name="l00276"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#ae9cc78afec4b9a28f76d3a1fd8438a4e">00276</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html#ae9cc78afec4b9a28f76d3a1fd8438a4e">verbosity</a>; <span class="comment">//0=quiet, 1=output results in python-compatible arrays</span>
<a name="l00277"></a>00277     };
<a name="l00278"></a>00278     
<a name="l00280"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html">00280</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html" title="envelope for caching intermediate results">sTmpData</a>
<a name="l00281"></a>00281     {
<a name="l00282"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a7f6606f560b7911c6127fe0fc54a5a96">00282</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a7f6606f560b7911c6127fe0fc54a5a96">gPlus</a>;   <span class="comment">//upward gradient</span>
<a name="l00283"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a32bc5142ac0b34a5ce147dc55c57f41c">00283</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a32bc5142ac0b34a5ce147dc55c57f41c">gMinus</a>;  <span class="comment">//downward gradient</span>
<a name="l00284"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a8234626d280c78ded57e3c1c6cbe7d49">00284</a>         <span class="keywordtype">float</span>* <a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a8234626d280c78ded57e3c1c6cbe7d49">q</a>;       <span class="comment">//kernel row for current example. needed in WSS (sometimes) and SMO</span>
<a name="l00285"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a422c07882f0cabaaf76b1a43aba984c3">00285</a>         Array&lt;double&gt; <a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html#a422c07882f0cabaaf76b1a43aba984c3">reprocGradients</a>; <span class="comment">//intermediate storage for gradients in reproc-MVP</span>
<a name="l00286"></a>00286     };
<a name="l00287"></a>00287     
<a name="l00289"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8">00289</a>     <span class="keyword">enum</span> <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8" title="helper enum: list of possible stopping conditions">eStopReason</a>
<a name="l00290"></a>00290     {
<a name="l00291"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a04e2853c57256b08819621c0f4ffd794">00291</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a04e2853c57256b08819621c0f4ffd794">sNone</a>,              <span class="comment">//keep running</span>
<a name="l00292"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a01a217dc6d2e2ac8f3517c8d5eb5bfdd">00292</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a01a217dc6d2e2ac8f3517c8d5eb5bfdd">sEndEpochSoon</a>,      <span class="comment">//keep running, but start new epoch before next procNew</span>
<a name="l00293"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a0555277931bd9bb2ebdf960c613a171b">00293</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a0555277931bd9bb2ebdf960c613a171b">sEND_MARKER</a>,        <span class="comment">//marks the border between keep-running-non-new-steps and end-epoch</span>
<a name="l00294"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8aa5707c9db68e2a278f7e21619956c4ff">00294</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8aa5707c9db68e2a278f7e21619956c4ff">sEndEpochNow</a>,       <span class="comment">//keep running, but start new epoch immediately</span>
<a name="l00295"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a1545869cd86f56fe6485c89ca23d3d0e">00295</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a1545869cd86f56fe6485c89ca23d3d0e">sQUIT_MARKER</a>,       <span class="comment">//marks border between epoch and overall stopping conditions</span>
<a name="l00296"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8ac970b000c62ea69979fbd278e083eb8b">00296</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8ac970b000c62ea69979fbd278e083eb8b">sEpochs</a>,            <span class="comment">//number of epochs has reached stopCrit.maxEpochs</span>
<a name="l00297"></a><a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a17c57f03eddd118950a9c12425806898">00297</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8a17c57f03eddd118950a9c12425806898">sDualAim</a>            <span class="comment">//dual gap has fallen below stopCrit.dualAim</span>
<a name="l00298"></a>00298     };
<a name="l00299"></a>00299     
<a name="l00301"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html">00301</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html" title="envelope for stopping criterion.">sStopCrit</a>        
<a name="l00302"></a>00302     {
<a name="l00303"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#ae66a0de8559bba08b8dd0940d4a70424">00303</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#ae66a0de8559bba08b8dd0940d4a70424">accuracy</a>;        <span class="comment">//Not a stopping crit., but for choosing samples for SMO by their KKT violation</span>
<a name="l00304"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a4ff8d174006828a6fc41b6b3e62020ae">00304</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a4ff8d174006828a6fc41b6b3e62020ae">maxEpochs</a>; <span class="comment">//number of epochs: how many iterations through the training set to complete</span>
<a name="l00305"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a190ee7e9d758154f18b11a83423e4017">00305</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a190ee7e9d758154f18b11a83423e4017">dualAim</a>;         <span class="comment">//desired duality gap as stopping criterion. Alternative to #maxEpochs</span>
<a name="l00306"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a43e6f719ce0bd09bd7963627f4bffb09">00306</a>         <a class="code" href="class_qp_eb_cs_decomp.html#accdfa4d11822227d285801e28e4b50b8" title="helper enum: list of possible stopping conditions">eStopReason</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html#a43e6f719ce0bd09bd7963627f4bffb09">stop</a>;       <span class="comment">//flag that summarizes the status of the different stopping conditions</span>
<a name="l00307"></a>00307     };
<a name="l00308"></a>00308     
<a name="l00309"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html">00309</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html">sLogVars</a>
<a name="l00310"></a>00310     {
<a name="l00311"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a677af1d992e544e9d6fa56e402043e4a">00311</a>         <span class="keywordtype">long</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a677af1d992e544e9d6fa56e402043e4a">kernel_lookups</a>;
<a name="l00312"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#aa2781bbe5c0f3c93d927b27763494065">00312</a>         <a class="code" href="classs_wall_timer.html" title="Convenience structure for wall-clock time keeping, platform-specific.">sWallTimer</a> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#aa2781bbe5c0f3c93d927b27763494065">overall_timer</a>;
<a name="l00313"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#ad2851ce2476a2d14e16799ebd6a9c724">00313</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#ad2851ce2476a2d14e16799ebd6a9c724">writeDualEvery</a>;
<a name="l00314"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#adf72e323e4e2e5cac6559434d39e1288">00314</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#adf72e323e4e2e5cac6559434d39e1288">writeDualModuland</a>;
<a name="l00315"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a89dd16afbb047bf2af658928ad462f35">00315</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a89dd16afbb047bf2af658928ad462f35">measurements_per_epoch</a>;
<a name="l00316"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a5fcf571dff54f10968e99a6ac1940e72">00316</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html#a5fcf571dff54f10968e99a6ac1940e72">overall_noof_measurements</a>;
<a name="l00317"></a>00317     };
<a name="l00318"></a>00318     
<a name="l00319"></a><a class="code" href="class_qp_eb_cs_decomp.html#add1f46c56b8d13b171c3130c36005907">00319</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_log_vars.html">sLogVars</a> <a class="code" href="class_qp_eb_cs_decomp.html#add1f46c56b8d13b171c3130c36005907">log</a>;
<a name="l00320"></a>00320     
<a name="l00322"></a><a class="code" href="class_qp_eb_cs_decomp.html#a44c8ab1eb407c6771e7e5bf2049f019a">00322</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_strategy.html" title="envelope for current overall strategy">sStrategy</a> <a class="code" href="class_qp_eb_cs_decomp.html#a44c8ab1eb407c6771e7e5bf2049f019a" title="envelope for overall strategy">strat</a>;
<a name="l00323"></a>00323     
<a name="l00325"></a><a class="code" href="class_qp_eb_cs_decomp.html#a0959e801790a692c209ffc1a12e16a09">00325</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_cardinalities.html" title="envelope for convenience cardinalities of important sets">sCardinalities</a> <a class="code" href="class_qp_eb_cs_decomp.html#a0959e801790a692c209ffc1a12e16a09" title="envelope for convenience cardinalities of important sets">cardi</a>;
<a name="l00326"></a>00326     
<a name="l00328"></a><a class="code" href="class_qp_eb_cs_decomp.html#a9d95b3a3ad628bcd53d62833eba7c15a">00328</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_introspection.html" title="envelope for variables about the current state of the solver">sIntrospection</a> <a class="code" href="class_qp_eb_cs_decomp.html#a9d95b3a3ad628bcd53d62833eba7c15a" title="envelope for variables about the current state of the solver">introsp</a>;
<a name="l00329"></a>00329     
<a name="l00331"></a><a class="code" href="class_qp_eb_cs_decomp.html#ac306d15d1bd737cb0ec456c8b7863058">00331</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_tmp_data.html" title="envelope for caching intermediate results">sTmpData</a> <a class="code" href="class_qp_eb_cs_decomp.html#ac306d15d1bd737cb0ec456c8b7863058" title="envelope for caching intermediate results">temp</a>;
<a name="l00332"></a>00332     
<a name="l00334"></a><a class="code" href="class_qp_eb_cs_decomp.html#aff38a9e5fcd8ab96c3dff8d8c996264b">00334</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1s_stop_crit.html" title="envelope for stopping criterion.">sStopCrit</a> <a class="code" href="class_qp_eb_cs_decomp.html#aff38a9e5fcd8ab96c3dff8d8c996264b" title="Stopping criterion. The last one greater zero is considered active in addition to accuracy...">stopCrit</a>;
<a name="l00335"></a>00335     
<a name="l00336"></a>00336     
<a name="l00337"></a>00337 <span class="comment">// WORKING SET AND PROCESSING STEP SELECTION</span>
<a name="l00338"></a>00338     
<a name="l00340"></a>00340     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#ab7f9ed80cc6ab2fdffcfd291eff6c4fa" title="select next processing step">selectNextProcessingStep</a>();
<a name="l00341"></a>00341     
<a name="l00343"></a>00343     <span class="keywordtype">bool</span> <a class="code" href="class_qp_eb_cs_decomp.html#ae27aa61221d1fff44cdfbad0e895f438" title="find the next pattern to work on. return true if there are now unseen samples left.">selectNextPattern</a>();
<a name="l00344"></a>00344     
<a name="l00346"></a>00346     <span class="keywordtype">double</span> <a class="code" href="class_qp_eb_cs_decomp.html#a2a6b24fe27abcbfbdf9ea88bbf062ab1" title="Choose working set according to current strategy. return corresponding KKT violation.">selectWorkingSet</a>();
<a name="l00347"></a>00347 
<a name="l00348"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html">00348</a>     <span class="keyword">struct </span><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html">tClassInversionCandidateList</a>
<a name="l00349"></a>00349     {
<a name="l00350"></a>00350         <span class="comment">//core variables</span>
<a name="l00351"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a549c59135f0a09975aa71327acabbb82">00351</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a549c59135f0a09975aa71327acabbb82">i</a>;
<a name="l00352"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7cde8e2d0b08a551d41c320382b03904">00352</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7cde8e2d0b08a551d41c320382b03904">j</a>;
<a name="l00353"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a9c4cfadaff027894cc4313eee8c686e8">00353</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a9c4cfadaff027894cc4313eee8c686e8">cur_witness</a>;
<a name="l00354"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a839e0022b68062f18e116fcc5f3f3c29">00354</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a839e0022b68062f18e116fcc5f3f3c29">max_witness</a>;
<a name="l00355"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7928cb2572fe8cefdfb199679e9f63dc">00355</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7928cb2572fe8cefdfb199679e9f63dc">candidate</a>;
<a name="l00356"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a745f28345a562b4a9a755f4bbe5dfdf0">00356</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a745f28345a562b4a9a755f4bbe5dfdf0">cur_priority</a>;
<a name="l00357"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a63c186713143844416810fcf2b5cdba0">00357</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a63c186713143844416810fcf2b5cdba0">max_priority</a>; <span class="comment">//deactivate 2 vars =&gt; deactivate sample =&gt; highest. deactivate 1 =&gt; deact. var =&gt; medium</span>
<a name="l00358"></a>00358         
<a name="l00359"></a>00359         <span class="comment">//strategic variables</span>
<a name="l00360"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7f38caa19adb9257ac3aeb3dea08d921">00360</a>         <span class="keywordtype">bool</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a7f38caa19adb9257ac3aeb3dea08d921">fallback_mode</a>;
<a name="l00361"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a10c1dbecfef4fcb1e58f8c1ed2b2c86e">00361</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a10c1dbecfef4fcb1e58f8c1ed2b2c86e">desired_noof_hits</a>;
<a name="l00362"></a>00362         
<a name="l00363"></a>00363         <span class="comment">//helper variables</span>
<a name="l00364"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a3a97fb98b42a279ef133ac83aef9e2fb">00364</a>         <span class="keywordtype">double</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#aa4ac953d31d6be5ed50d3a4333f2e979">g</a>, <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a3a97fb98b42a279ef133ac83aef9e2fb">mu_test</a>, <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a80038805b5c9fec17cdbf6487adb5ecc">delta_g</a>;
<a name="l00365"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a3f118798032925a0910a16fb31c9aac1">00365</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a962b83ca644e5e5c62989446e708f357">e</a>, <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a3f118798032925a0910a16fb31c9aac1">t</a>;
<a name="l00366"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ac5dbe805f70b827ab99e36cece3759c5">00366</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ac5dbe805f70b827ab99e36cece3759c5">asc_size_third</a>;    <span class="comment">//two tmp helpers</span>
<a name="l00367"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ad374715101047f602feb1da8b8c24c05">00367</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ad374715101047f602feb1da8b8c24c05">asc_size_current</a>;
<a name="l00368"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ad5adc79c279fdad7cd60799fe88325c4">00368</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ad5adc79c279fdad7cd60799fe88325c4">start_index</a>;         <span class="comment">//current index</span>
<a name="l00369"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#af72e942c4fc62f68a3a2a5fb9f2f6752">00369</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#af72e942c4fc62f68a3a2a5fb9f2f6752">counter_index</a>;   <span class="comment">//how many have we looked at?</span>
<a name="l00370"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a099bc3323f05f225a13b094d6ed24107">00370</a>         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#a099bc3323f05f225a13b094d6ed24107">hits_so_far</a>;   <span class="comment">//how many have we looked at?</span>
<a name="l00371"></a>00371 <span class="comment">//      tActiveClasses::size_type b; //these four for tr1::unordered_set variant only</span>
<a name="l00372"></a>00372 <span class="comment">//      tActiveClasses::size_type x;</span>
<a name="l00373"></a>00373 <span class="comment">//      tActiveClasses::size_type bucket_count;</span>
<a name="l00374"></a>00374 <span class="comment">//      tActiveClasses::const_local_iterator lit;</span>
<a name="l00375"></a><a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ac9f8b9768266f4aac6b858c665b7d735">00375</a>         tActiveClasses::iterator <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html#ac9f8b9768266f4aac6b858c665b7d735">lit</a>;
<a name="l00376"></a>00376     };
<a name="l00377"></a>00377     
<a name="l00378"></a><a class="code" href="class_qp_eb_cs_decomp.html#a28d89e9926ad9fa6453796f115b5f7b8">00378</a>     <a class="code" href="struct_qp_eb_cs_decomp_1_1t_class_inversion_candidate_list.html">tClassInversionCandidateList</a> <a class="code" href="class_qp_eb_cs_decomp.html#a28d89e9926ad9fa6453796f115b5f7b8">cicl</a>;
<a name="l00379"></a>00379     
<a name="l00381"></a>00381     <span class="keywordtype">double</span> <a class="code" href="class_qp_eb_cs_decomp.html#a9abcc449d3e12a8ccc0b4769761c05b0" title="do the actual update on the working set, return the gain achieved">performSmoStep</a>();
<a name="l00382"></a>00382     
<a name="l00383"></a>00383     
<a name="l00384"></a>00384 <span class="comment">// STOPPING CRITERION / INTROSPECTION</span>
<a name="l00385"></a>00385     
<a name="l00387"></a>00387     <span class="keywordtype">double</span> <a class="code" href="class_qp_eb_cs_decomp.html#a01629c025d5ab13a87800662eda290ac" title="return the current value of the primal, and also store in introsp.primal">calcPrimal</a>();
<a name="l00388"></a>00388     
<a name="l00389"></a>00389 <span class="comment">// MISC</span>
<a name="l00390"></a>00390 
<a name="l00392"></a>00392     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a61ce4ac374726623615f344008c60de1" title="reset all variables that are valid for one epoch only">init</a>();
<a name="l00393"></a>00393 
<a name="l00395"></a>00395     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#af0899237b61d52c18f827435d3e8ea98" title="randomly reorder the lottery vector defining the iteration through the dataset">shuffleSamples</a>();
<a name="l00396"></a>00396     
<a name="l00398"></a>00398     <span class="comment">// return the iterator to next in activeGlopalSPs</span>
<a name="l00399"></a>00399     <span class="comment">// *first* determine #wasSC based on context or the old alpha value (wasSC &lt;=&gt; e ATM is in active SC sets)</span>
<a name="l00400"></a>00400     <span class="comment">// *then* update the alpha value (only when shrinking from within #performSmoStep)</span>
<a name="l00401"></a>00401     <span class="comment">// *only then* call this function (and don&#39;t forget to pass the correct #wasSC)</span>
<a name="l00403"></a>00403 <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a2d6070c20193be14bffbb8369aa0f027" title="exclude a variable from getting its gradient updated and from being considered in wss...">deactivateVariable</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> v, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> e, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c );
<a name="l00404"></a>00404     
<a name="l00406"></a>00406     <span class="comment">// returns the new location of the deactivated sample, so vars can be kept consistent</span>
<a name="l00407"></a>00407     <span class="comment">// *first* delete all variables, then call this!</span>
<a name="l00408"></a>00408     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_qp_eb_cs_decomp.html#a88f5a69048595034f67391650f0f115c" title="freeze an entire example: exclude it from wss and all its gradients from being updated">deactivateExample</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> e );
<a name="l00409"></a>00409     
<a name="l00413"></a>00413     <span class="keywordtype">void</span> <a class="code" href="class_qp_eb_cs_decomp.html#a099459decce632b9b0a0c99fc90cc3e7" title="exchange all data corresponding to two samples, both in internal arrays and in the cachedMatrix Impor...">flipAll</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_b_f_g_s_8cpp.html#ac23062089f3a5a2693cbb4ce7a75f1e5" title="Initializes some internal variables used by the BFGS algorithm, calculates the current error of the m...">i</a>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j, <a class="code" href="class_qp_eb_cs_decomp.html#a4ccf9924d8a3bb354ff327267d3da0e3" title="List of possible configurations that can occur when flipping two examples.">eFlipVariants</a> f );
<a name="l00414"></a>00414 
<a name="l00419"></a><a class="code" href="class_qp_eb_cs_decomp.html#acf5efa1de47fefae39159d962c50e167">00419</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="class_qp_eb_cs_decomp.html#acf5efa1de47fefae39159d962c50e167" title="one central place to account for numerical inaccuracies when determining upper-boundedness this defin...">canIncrease</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index, <span class="keywordtype">double</span> extra = 0.0 )
<a name="l00420"></a>00420     {
<a name="l00421"></a>00421         <span class="keywordflow">return</span> ( (<a class="code" href="class_qp_eb_cs_decomp.html#adf29671f707a0e2d68ace9d155ef22fc" title="solution candidate">alpha</a>(index) + extra + 1e-12) &lt;= <a class="code" href="class_qp_eb_cs_decomp.html#a0e7773173a743416906d275923b219ff" title="box constraint upper bound, that is, maximal variable value.">boxMax</a>(index) );
<a name="l00422"></a>00422     }
<a name="l00423"></a>00423     
<a name="l00429"></a><a class="code" href="class_qp_eb_cs_decomp.html#ad189e8641af3258af8677941eec4d203">00429</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="class_qp_eb_cs_decomp.html#ad189e8641af3258af8677941eec4d203" title="With respect to a fixed pattern, determine whether a class is a support class This should be identica...">isSC</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="_b_f_g_s_8cpp.html#ac23062089f3a5a2693cbb4ce7a75f1e5" title="Initializes some internal variables used by the BFGS algorithm, calculates the current error of the m...">i</a> )
<a name="l00430"></a>00430     {
<a name="l00431"></a>00431         <span class="keywordflow">return</span> ( ( <a class="code" href="class_qp_eb_cs_decomp.html#adf29671f707a0e2d68ace9d155ef22fc" title="solution candidate">alpha</a>(i) &lt; -1e-12 ) || ( <a class="code" href="class_qp_eb_cs_decomp.html#adf29671f707a0e2d68ace9d155ef22fc" title="solution candidate">alpha</a>(i) &gt; 1e-12 )  );
<a name="l00432"></a>00432     }
<a name="l00433"></a>00433     
<a name="l00434"></a><a class="code" href="class_qp_eb_cs_decomp.html#a74d4e772c4b8542e178fddb1f70bd161">00434</a>     <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_qp_eb_cs_decomp.html#a74d4e772c4b8542e178fddb1f70bd161">safe_discrete</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> upper, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> subtract_upper, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lower = 0 )
<a name="l00435"></a>00435     {
<a name="l00436"></a>00436         <span class="keywordflow">if</span> ( subtract_upper &gt; upper )
<a name="l00437"></a>00437             upper = 0;
<a name="l00438"></a>00438         <span class="keywordflow">else</span>
<a name="l00439"></a>00439             upper = upper - subtract_upper;
<a name="l00440"></a>00440         <span class="keywordflow">return</span> Rng::discrete( lower, upper );
<a name="l00441"></a>00441     }
<a name="l00442"></a>00442     
<a name="l00443"></a><a class="code" href="class_qp_eb_cs_decomp.html#ae932f120e5a9049bb22b1273edec47ba">00443</a>     <a class="code" href="class_svm_states_collection.html" title="Utility class for storing snapshots of SVM states.">SvmStatesCollection</a> * <a class="code" href="class_qp_eb_cs_decomp.html#ae932f120e5a9049bb22b1273edec47ba">mep_historian</a>;
<a name="l00444"></a>00444     
<a name="l00445"></a><a class="code" href="class_qp_eb_cs_decomp.html#a7639a06b1e1275c5d200cdb204919016">00445</a>     Array&lt; double &gt; <a class="code" href="class_qp_eb_cs_decomp.html#a7639a06b1e1275c5d200cdb204919016">m_dummyClosureDouble</a>;
<a name="l00446"></a>00446     
<a name="l00447"></a>00447 };
<a name="l00448"></a>00448 
<a name="l00449"></a>00449 
<a name="l00450"></a>00450 <span class="preprocessor">#endif</span>
</pre></div></div>
</div>
</div>
</div>
</body></html>
